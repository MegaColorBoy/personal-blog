<!DOCTYPE html>
<html data-theme="" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Abdush Shakoor">
	
	<meta name="description" content="Writings, experiments & ideas.">
	<meta name="og:title" content="Abdush Shakoor's Weblog | Abdush Shakoor's Weblog" />
	<meta name="og:type" content="article" />
	<meta name="og:url" content="" />
	<meta name="og:description" content="Writings, experiments & ideas" />
	<meta name="og:site_name" content="Abdush Shakoor's Weblog | Abdush Shakoor's Weblog" />
	
	<meta name="robots" content="follow">
	<title>Abdush Shakoor's Weblog | Abdush Shakoor's Weblog </title>
	<link rel="stylesheet" href="/static/css/main.css" type="text/css">
	<link rel="stylesheet" href="/static/css/pygments.css" type="text/css">

	<link rel="apple-touch-icon" sizes="57x57" href="/static/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/static/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/static/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/static/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/static/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/static/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/static/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/static/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/static/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/static/favicon/png" sizes="192x192"  href="/static/favicon/android-icon-192x192.png">
<link rel="icon" type="image/static/favicon/png" sizes="32x32" href="/static/favicon/favicon-32x32.png">
<link rel="icon" type="image/static/favicon/png" sizes="96x96" href="/static/favicon/favicon-96x96.png">
<link rel="icon" type="image/static/favicon/png" sizes="16x16" href="/static/favicon/favicon-16x16.png">
<link rel="manifest" href="/static/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
	
	<!-- <script src="https://unpkg.com/phosphor-icons"></script> -->
	<!-- <script>
		if(localStorage.theme){
			document.documentElement.setAttribute('data-theme', localStorage.getItem("theme"));
		}
	</script> -->
</head>
<body class="">
	<!-- Navbar -->
	<header class="header">
	<!-- Logo with Author Name -->
	<div class="author">
		<a href="/">
			<img src="/static/logo.png" alt="megacolorboy">
			<div class="name">
				<h1>Abdush Shakoor's Weblog</h1>
				<p>Writings, experiments & ideas.</p>
			</div>
		</a>
	</div>
	<!-- Logo with Author Name -->
	<nav>
		<ul class="menu">
			
				<li><a href="/about">About</a></li>
			
				<li><a href="/archive">Archive</a></li>
			
		</ul>
	</nav>	
</header>

<main>
	<div class="two-col-grid">
		<!-- Displays 4-5 full articles  -->
		<section id="primary">
			<div class="articles">
				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/til/posts/install-mariadb-103-on-void-linux">Install MariaDB 10.3 on Void Linux</a></h1>
		<p class="description"></p>
	</div>
	<div class="article-body">
		<p>I tried to find a proper guide on how to install MySQL 8.0 on Void Linux but I couldn't really find any. So, I thought of installing MariaDB 10.3 on my laptop instead.</p>

<p>Don't worry about using MariaDB as it meets the same standard enterprised requirements as MySQL. The only difference is that MySQL belongs to Oracle and MariaDB is for people who wanted to get out of Oracle's hands.</p>

<p>Anyway, let's get started.</p>

<h2>Prerequisites</h2>

<ul>
<li>Need to have root privileges in order to install packages.</li>
<li>Basic know-how of Void Linux and it's <code>xbps</code> package manager.</li>
</ul>

<p>Alright, go ahead and follow these steps one-by-one:</p>

<h3>1. Install MariaDB</h3>

<p>Type the following command to install the package:</p>

<div class="codehilite"><pre><span></span><code>sudo xbps-install -S mariadb
</code></pre></div>

<h3>2. Initialize MySQL data directory</h3>

<p>The following command will initialize a MariaDB data directory and create system tables in the MySQL database, if they are not present.</p>

<div class="codehilite"><pre><span></span><code>mysql_install_db --user<span class="o">=</span>mysql --basedir<span class="o">=</span>/usr --datadir<span class="o">=</span>/var/lib/mysql
</code></pre></div>

<p>The options used:</p>

<ul>
<li><code>--user</code>: The login user name to use for running the <code>mysqld</code> process.</li>
<li><code>--basedir</code> The path to the MariaDB installation directory.</li>
<li><code>--datadir</code>: The path to the MariaDB directory.</li>
</ul>

<p>To know more about it, you can refer to <a href="https://mariadb.com/kb/en/mysql_install_db/">MariaDB's documentation</a>.</p>

<h3>3. Enable MySQL service</h3>

<p>If you are used to Ubuntu or CentOS, enabling services in Void Linux is a bit different but quite simple. Once a process is symlinked, it will start on boot and restarts if it stops unless you stop the service deliberately.</p>

<p>Type the following command to enable the <code>mysqld</code> service:</p>

<div class="codehilite"><pre><span></span><code>sudo ln -s /etc/sv/mysqld /var/service/mysqld
</code></pre></div>

<h3>4. Start MySQL service</h3>

<p>Type the following command to start the <code>mysqld</code> service:</p>

<div class="codehilite"><pre><span></span><code>sudo sv start mysqld
</code></pre></div>

<p>To confirm, if the service is running, type the following:</p>

<div class="codehilite"><pre><span></span><code>sudo sv status mysqld
</code></pre></div>

<p>And you'll see something like this:</p>

<div class="codehilite"><pre><span></span><code>run: mysqld: <span class="o">(</span>pid <span class="m">15136</span><span class="o">)</span> 1116s<span class="p">;</span> run: log: <span class="o">(</span>pid <span class="m">15025</span><span class="o">)</span> 1172s
</code></pre></div>

<h3><a id="secure-mysql-installation"></a> 5. Secure MySQL installation</h3>

<p>It's recommended to secure your installation, so type the following command:</p>

<div class="codehilite"><pre><span></span><code>sudo mysql_secure_installation
</code></pre></div>

<p>Once the command is executed, you'll be prompted with a few questions, respond according to your needs and you're done!</p>

<h3>6. Test MariaDB connection</h3>

<p>Now, all you have to do is, try to log in to your database by typing the following:</p>

<div class="codehilite"><pre><span></span><code>mysql -u root -p
</code></pre></div>

<p>Once executed, it would prompt you for your password (which you must have set in the <a href="#secure-mysql-installation">previous step</a> and if you are able to log in, you are good to go!</p>

<p>Hope this guide helps you out!</p>

	</div>
	<div class="article-footer">
		<time>January 16th, 2022</time>
		<ul class="tags">
			
			<li>
				<a href="/category/databases/">
					Databases
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/is-selinux-complicated">Is SELinux complicated?</a></h1>
		<p class="description">If you turn off SELinux for a living, try this.</p>
	</div>
	<div class="article-body">
		<p>This might look a rant post but hear me out, okay?</p>

<p>Ever deployed an application on CentOS and tried to figure out why it isn't working when it's caused due to some permission issue by SELinux enabled?</p>

<p>Yeah, I know how annoying that is. So, whenever I go on StackOverflow, many people suggest to completely turn it off.</p>

<p>Well, it might be tempting to type <code>sudo setenforce 0</code> (which sets SELinux to Permissive mode), I wouldn't really recommend you to edit the SELinux config and disable it completely.</p>

<p>I recently read a blog post on CentOS's official blog and I'd like to quote them for asking this:</p>

<blockquote>
  <p>But why do articles feel the need to outright deactivate SELinux rather than help readers work through any problems they might have? Is SELinux that hard?</p>
</blockquote>

<p>Good question. Is it really that hard or is it because we don't really understand it? I think it's the latter.</p>

<h2>But why so?</h2>

<p>I guess, as users, we really need some sort of user interface to receive feedback because not everyone is really good at the terminal and most importantly, not good at memorizing options and flag combinations.</p>

<p>Here's a sample error that I would face sometimes while deploying a Laravel web application on CentOS 7:</p>

<div class="codehilite"><pre><span></span><code><span class="o">[</span>Mon May <span class="m">16</span> <span class="m">11</span>:39:32.996441 <span class="m">2016</span><span class="o">]</span> <span class="o">[</span>:error<span class="o">]</span> <span class="o">[</span>pid <span class="m">2434</span><span class="o">]</span> <span class="o">[</span>client XXX.XXX.XXX.XXX:8080<span class="o">]</span> PHP Fatal error:  Uncaught UnexpectedValueException: The stream or file <span class="s2">&quot;/var/www/html/MYSITE/storage/logs/laravel.log&quot;</span> could not be opened: failed to open stream: Permission denied <span class="k">in</span> /var/www/html/MYSITE/bootstrap/cache/compiled.php:13701
Stack trace:
<span class="c1">#0 /var/www/html/MYSITE/bootstrap/cache/compiled.php(13635): Monolog\\Handler\\StreamHandler-&gt;write(Array)</span>
<span class="c1">#1 /var/www/html/MYSITE/bootstrap/cache/compiled.php(13396): Monolog\\Handler\\AbstractProcessingHandler-&gt;handle(Array)</span>
<span class="c1">#2 /var/www/html/MYSITE/bootstrap/cache/compiled.php(13494): Monolog\\Logger-&gt;addRecord(400, Object(Symfony\\Component\\Debug\\Exception\\FatalErrorException), Array)</span>
<span class="c1">#3 /var/www/html/MYSITE/bootstrap/cache/compiled.php(13189): Monolog\\Logger-&gt;error(Object(Symfony\\Component\\Debug\\Exception\\FatalErrorException), Array)</span>
<span class="c1">#4 /var/www/html/MYSITE/bootstrap/cache/compiled.php(13160): Illuminate\\Log\\Writer-&gt;writeLog(&#39;error&#39;, Object(Symfony\\Component\\Debug\\Exception\\FatalErrorException), Array)</span>
<span class="c1"># in /var/www/html/MYSITE/bootstrap/cache/compiled.php on line 13701</span>
</code></pre></div>

<p>By looking at this error, you do understand it's permission-related but it doesn't really indicate that it's an SELinux problem because there could be thousands of reasons why there could be such an error. And of course, when I look it up on Google, I do find many people facing the same issue due to SELinux being enabled.</p>

<p>Instead of disabling it completely, I would try doing this:</p>

<div class="codehilite"><pre><span></span><code>chcon -R -t httpd_sys_rw_content_t storage
</code></pre></div>

<p>And off goes the error and the application didn't give any permission-related issues again.</p>

<p>Is it worth disabling SELinux? No. </p>

<p>But does SELinux have an issue of being user friendly? I guess, yes.</p>

<p>I'm just like you, sometimes, I do switch off SELinux at times when it's critical to deploy the application so that I can leave home early but that's not really a good practice.</p>

<h2>Conclusion</h2>

<p>I do wish that the open source developers of SELinux could do something to make much more friendlier to use? Or maybe, some way that let's the user know what to do instead of letting the user <code>chmod</code>-ing and <code>chown</code>-ing files and directories endlessly. Or worse, completely disabling SELinux!</p>

<p>Hope you found this article interesting!</p>

<p>Stay tuned for more.</p>

	</div>
	<div class="article-footer">
		<time>December 25th, 2021</time>
		<ul class="tags">
			
			<li>
				<a href="/category/devops/">
					DevOps
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/on-learning-new-technologies">On learning new technologies</a></h1>
		<p class="description">Sharing my tips on how I learn new technologies at work and home nowadays.</p>
	</div>
	<div class="article-body">
		<p>If you're a programmer, you already know that it's quite a daunting task to keep up with the latest stream of technologies:</p>

<ul>
<li>Frameworks</li>
<li>Libraries</li>
<li>Programming Languages</li>
<li>Programming Paradigms</li>
</ul>

<p>And there's never an end to it, it's just an ever-growing thing.</p>

<p>So, whenever I'm walking or commuting, sometimes, these questions pop up in my head:</p>

<ol>
<li>How can I learn something new without wasting my free-time?</li>
<li>How can I learn all of the existing technologies out there? Is it possible?</li>
</ol>

<p>Well, it's technically impossible for me to know about everything &mdash; in and out. Computer Science is such a broad field and has a lot of branches and sub-branches.</p>

<p>However, you can learn a piece of technology just enough to know that it exists and know when to learn more about it when the time arises.</p>

<h2>Don't try to learn everything out there</h2>

<p>In my years of developing web applications, I have seen two types of programmers:</p>

<ol>
<li>One who has deep knowledge of a particular technology</li>
<li>An all-rounder but also not-so-deep knowledge about multiple technologies</li>
</ol>

<p>Where do I fall ? Personally, I feel that I belong to the latter kind because I believe that spending a lot of time trying to specialize or being an expert in one technology is just too time-consuming and given the fact that everyday there's a new framework or programming language released out there, it's better to put yourself in the middle ground.</p>

<p>Why you ask? Here's why:</p>

<ol>
<li>Technology dies fast. For example, there was a time when jQuery used to be really popular amongst the Front End Developers but today, most of them move towards libraries like ReactJS, VueJS and NextJS to build their projects and sooner or later, another framework will come out to replace ReactJS and become the next thing.</li>
<li>I don't think most of the technologies out there are relevant to the problem that you are trying to solve. Like why do I need to look into an API about geospatial analytics unless I'm trying to build an application that needs such a requirement, you get it right?</li>
</ol>

<p>Basically, trying to learn every single piece of technology out there, it's just basically wasting time.</p>

<h2>Ways and source of learning new stuff</h2>

<p>Whenever I wanted to learn a new programming language, I would often go to <a href="https://projecteuler.net">Project Euler</a> to flex my skills and that would help me learn more about it's features. Recently, I started <a href="https://leetcode.org">LeetCode</a> and <a href="#">Advent of Code - 2021</a>. It's quite interesting solving these challenges as it helps you to learn more about the technology and feels good after solving a problem.</p>

<p>The next thing I would recommend is following a tech news feed like <a href="https://news.ycombinator.com">Hacker News</a> but it can get quite addicting and distracting at times. Another good source of information are weekly newsletters. If you don't really know which one to follow, here's a <a href="https://github.com/zudochkin/awesome-newsletters">repository</a> filled with <strong>Awesome Newsletters</strong> that spans various areas like DevOps, Front end, Back end and Data Science. Try signing up on one of them and see how it goes.</p>

<h2>Time is costly, use it wisely</h2>

<p>The brain can only do so much in about 9 to 10 hours a day and in order for you to be efficient and productive in learning new stuff, try the following:</p>

<ol>
<li>Spend an hour learning, reading or practicing a new tool.</li>
<li>Interesting stuff but not needed yet? Try bookmarking or make a note of it, so that you can revisit it again.</li>
<li>If it fits your needs and project requirements, then go ahead and learn it!</li>
</ol>

<p>If you found this article useful, please share it with your friends and colleagues.</p>

<p>Stay tuned for more!</p>

	</div>
	<div class="article-footer">
		<time>December 24th, 2021</time>
		<ul class="tags">
			
			<li>
				<a href="/category/productivity/">
					Productivity
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/til/posts/how-to-create-an-iso-image-from-cdsdvds">How to create an ISO image from CDs/DVDs?</a></h1>
		<p class="description"></p>
	</div>
	<div class="article-body">
		<p>I used to create ISO images using DAEMON Tools but I wanted to try something different and see if there's a way to create it using the Linux CLI.</p>

<p>Turns out, you can do in just a single line using the <code>dd</code> utility like so:</p>

<div class="codehilite"><pre><span></span><code>dd <span class="k">if</span><span class="o">=</span>/dev/cdrom <span class="nv">of</span><span class="o">=</span>/path/to/your/directory/image.iso
</code></pre></div>

<p>The <code>if</code> stands for input file and <code>of</code> stands for output file.</p>

<p>Looks like, I don't have to use DAEMON Tools for stuff like this, I guess.</p>

<p>Hope you found this tip useful!</p>

	</div>
	<div class="article-footer">
		<time>October 23rd, 2021</time>
		<ul class="tags">
			
			<li>
				<a href="/category/linux/">
					Linux
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/til/posts/truncate-a-file-using-redirection-in-linux">Truncate a file using redirection in Linux</a></h1>
		<p class="description"></p>
	</div>
	<div class="article-body">
		<p>Simply put, sometimes, there are situations in where you just want to clear the contents of a file without deleting it.</p>

<p>This could be for many reasons like to avoid permission related issues, or maybe the file could be having useless logs that amasses to a size that measures in GBs.</p>

<p>So, the easiest solution is to clear it away from a terminal is by shell redirection like so:</p>

<div class="codehilite"><pre><span></span><code>:&gt; filename
</code></pre></div>

<p>Let me break down the command here:</p>

<ul>
<li>The <code>:</code> symbol means <code>true</code> and doesn't produce any output.</li>
<li>The '>' symbol is used for redirecting the output of the preceding command (in this case, it's empty!)</li>
<li><code>filename</code> is the file that you want to truncate. If it doesn't exist, the file will be created.</li>
</ul>

<p>Alternatively, you can do the same by using the <code>cat</code> command to output the contents of the <code>/dev/null</code> device (which only contains a EOL character) to empty a file:</p>

<div class="codehilite"><pre><span></span><code>cat /dev/null &gt; filename
</code></pre></div>

<p>Hope this comes in handy!</p>

	</div>
	<div class="article-footer">
		<time>October 2nd, 2021</time>
		<ul class="tags">
			
			<li>
				<a href="/category/linux/">
					Linux
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/til/posts/how-to-identify-which-linux-distribution-is-running-in-your-system">How to identify which Linux distribution is running in your system?</a></h1>
		<p class="description"></p>
	</div>
	<div class="article-body">
		<p>If you've read my <a href="/til/posts/check-ubuntu-version/">earlier post</a>, I was using Ubuntu, at that time, and I thought that was how you identify which distro is running in your system but using <code>lsb_release -a</code> is not always going to work as some distributions may not have it installed.</p>

<p>Try the following command to identify the distribution you are running in your system:</p>

<div class="codehilite"><pre><span></span><code>cat /etc/os-release
</code></pre></div>

<p>And you'll get the following output:</p>

<div class="codehilite"><pre><span></span><code><span class="nv">NAME</span><span class="o">=</span><span class="s2">&quot;XXXX&quot;</span>
<span class="nv">ID</span><span class="o">=</span><span class="s2">&quot;XXXX&quot;</span>
<span class="nv">DISTRIB_ID</span><span class="o">=</span><span class="s2">&quot;XXXX&quot;</span>
<span class="nv">PRETTY_NAME</span><span class="o">=</span><span class="s2">&quot;XXXX&quot;</span>
</code></pre></div>

<p>Hope this helps you out!</p>

	</div>
	<div class="article-footer">
		<time>October 2nd, 2021</time>
		<ul class="tags">
			
			<li>
				<a href="/category/linux/">
					Linux
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/til/posts/display-list-of-files-with-their-extension-and-file-sizes">Display list of files with their extension and file sizes</a></h1>
		<p class="description"></p>
	</div>
	<div class="article-body">
		<p>Last month, I was trying to free up some space in my company servers and I realized that there were a lot of <code>.zip</code> files taking up a lot of space.</p>

<p>So, I wrote the following command to list files by their extension:</p>

<div class="codehilite"><pre><span></span><code>find . -iname <span class="se">\*</span>.extension -exec du -sh <span class="o">{}</span> <span class="se">\;</span> &gt; file-list.txt
</code></pre></div>

<p>And later to determine which files are the largest, I executed this command to sort the list by file size:</p>

<div class="codehilite"><pre><span></span><code>sort -rh file-list.txt &gt; newfile.txt
</code></pre></div>

<p>Hope this tip helps you too! &#x1F604;</p>

	</div>
	<div class="article-footer">
		<time>September 20th, 2021</time>
		<ul class="tags">
			
			<li>
				<a href="/category/linux/">
					Linux
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/darklight-mode-with-css-and-javascript">Dark/Light mode with CSS and JavaScript</a></h1>
		<p class="description">A simple guide on how to implement a dark/light theme switcher with CSS and JavaScript</p>
	</div>
	<div class="article-body">
		<p>It's quite common these days that many websites let their users to decide their preferred color scheme(s). Giving this sort of customizability offers good user experience.</p>

<p>In this article, I'll provide a simple step-by-step guide on how to implement a dark/light theme switcher with HTML, CSS and JavaScript.</p>

<div class="post-notification warning">
    <h3>Prerequisites</h3>
    <p>This article assumes that the reader has a basic know-how on HTML, CSS, JavaScript and basic knowledge on using the command-line.</p>
</div>

<h2>Using CSS variables</h2>

<p>I always wanted to implement one for this website too and I thought of making use of CSS variables as I found it to be quite straight forward and I don't have to worry too much about browser support.</p>

<p>Try adding the below CSS to your stylesheet:
    <div class="codehilite"><pre><span></span><code><span class="p">:</span><span class="nd">root</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">    </span><span class="nv">--background-color</span><span class="p">:</span><span class="w"> </span><span class="kc">white</span><span class="p">;</span><span class="w"></span>
    <span class="w">    </span><span class="nv">--font-color</span><span class="p">:</span><span class="w"> </span><span class="kc">black</span><span class="p">;</span><span class="w"></span>
    <span class="w">    </span><span class="nv">--accent-color</span><span class="p">:</span><span class="w"> </span><span class="kc">red</span><span class="p">;</span><span class="w"></span>
    <span class="w">    </span><span class="nv">--alt-background-color</span><span class="p">:</span><span class="w"> </span><span class="kc">black</span><span class="p">;</span><span class="w"></span>
    <span class="w">    </span><span class="nv">--alt-font-color</span><span class="p">:</span><span class="w"> </span><span class="kc">white</span><span class="p">;</span><span class="w"></span>
    <span class="w">    </span><span class="nv">--alt-accent-color</span><span class="p">:</span><span class="w"> </span><span class="kc">yellow</span><span class="p">;</span><span class="w"></span>
    <span class="p">}</span><span class="w"></span>
 <br />
    <span class="nt">html</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--background-color</span><span class="p">);</span><span class="w"></span>
    <span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--font-color</span><span class="p">);</span><span class="w"></span>
    <span class="p">}</span><span class="w"></span>
 <br />
    <span class="nt">a</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--accent-color</span><span class="p">);</span><span class="w"></span>
    <span class="p">}</span><span class="w"></span>
 <br />
    <span class="nt">html</span><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="s2">&quot;dark&quot;</span><span class="o">]</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--alt-background-color</span><span class="p">);</span><span class="w"></span>
    <span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--alt-font-color</span><span class="p">);</span><span class="w"></span>
    <span class="p">}</span><span class="w"></span>
 <br />
    <span class="nt">html</span><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="s2">&quot;dark&quot;</span><span class="o">]</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
    <span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--alt-accent-color</span><span class="p">);</span><span class="w"></span>
    <span class="p">}</span><span class="w"></span>
    <span class="w">   </span>
    </code></pre></div></p>

<p>The <code>:root</code> selector contains a set of default values and in this case, these are just different colors, kind of like how we initialize variables in other programming languages.</p>

<p>For example, whenever the <code>data-theme</code> attribute is set to <code>dark</code>, the default values will be overidden by the <code>html[data-theme="dark"]</code> CSS rule for the theme to take effect.</p>

<p>Really, it's that simple!</p>

<h2>Add some markup</h2>

<p>That depends on what you really want to have in your website but for this tutorial, you can just place a simple button somewhere in your navigation bar or anywhere you like:</p>

<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;themeSwitcher&quot;</span><span class="p">&gt;</span>Dark/Light<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></div>

<h2>Toggle between light and dark themes</h2>

<p>Yes, we are getting there and you just have to write a simple logic that checks if whether the current theme is dark or light based on the class used on the <code>&lt;body&gt;</code> element.</p>

<div class="codehilite"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.themeSwitcher&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-theme&#39;</span><span class="p">)){</span>
        <span class="k">case</span> <span class="s2">&quot;dark&quot;</span><span class="o">:</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-theme&#39;</span><span class="p">,</span> <span class="s1">&#39;dark&#39;</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">case</span> <span class="s2">&quot;light&quot;</span><span class="o">:</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-theme&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<h3>Save user's preference in their browser</h3>

<p>If your button works as expected, good! Now, once you refresh the page, the background would return to it's default mode but that's not what we wanted, right?</p>

<p>But why does it return instead of staying dark? Because your "preference" is not stored in your browser.</p>

<p>Modify your code to store your preferences in your browser:</p>

<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.themeSwitcher&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-theme&#39;</span><span class="p">)){</span>
        <span class="k">case</span> <span class="s2">&quot;dark&quot;</span><span class="o">:</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-theme&#39;</span><span class="p">,</span> <span class="s1">&#39;dark&#39;</span><span class="p">);</span>
            <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&quot;theme&quot;</span><span class="p">,</span> <span class="s2">&quot;dark&quot;</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">case</span> <span class="s2">&quot;light&quot;</span><span class="o">:</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-theme&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
            <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&quot;theme&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<p>This should work fine but you'll want to avoid the "flickering" issue while changing themes or refreshing the page, in order to do that, make sure that you check the user preference before the page is completely loaded:</p>

<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">theme</span><span class="p">){</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;data-theme&#39;</span><span class="p">,</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s2">&quot;theme&quot;</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<h2>Conclusion</h2>

<p>Well, if you've noticed, I wrote a simple theme switcher for my blog too. Try it out and you can inspect the code to see how it works.</p>

<p>Hope you enjoyed this article!</p>

<p>Stay tuned for more!</p>

	</div>
	<div class="article-footer">
		<time>September 9th, 2021</time>
		<ul class="tags">
			
			<li>
				<a href="/category/tutorial/">
					Tutorial
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
			</div>
			
<div class="pagination">
	
		
		<a href="/">&laquo;</a>
			
	

	
		
			<a class="" href="/">1</a>
		
	
		
			<a class="active" href="/pages/2">2</a>
		
	
		
			<a class="" href="/pages/3">3</a>
		
	
		
			<a class="" href="/pages/4">4</a>
		
	
		
			<a class="" href="/pages/20">...</a>
		
	
		
			<a class="" href="/pages/24">24</a>
		
	

	
		<a href="/pages/3">&raquo;</a>
	
</div>

		</section>
		<!-- 
			Contains blog links that I follow 
			Bookmarks
			Interesting quotes/content
		-->
		<section id="secondary">
			<div class="sidebar">
				<div class="author-intro">
	<h3>Hello, I'm Abdush Shakoor! &#x1F44B;</h3>
	<p>I'm a programmer & designer based in Dubai, United Arab Emirates. I love tinkering with code and writing about what I learn.</p>
	<p>This website is my digital garden &mdash; a compendium of the things I've learned and created over the years.</p>

	<ul class="sitemap">
		<li><a href="mailto:megacolorboy@gmail.com">Email</a></li>
		<li><a href="https://github.com/megacolorboy">GitHub</a></li>
		<li><a href="https://linkedin.com/in/abdush-shakoor-mohamed-nazeer-b5546546">LinkedIn</a></li>
		<li><a href="https://twitter.com/MegaColorBoy">Twitter</a></li>
	</ul>
</div>
				<!-- Tags -->
<div>
	<h3>Categories</h3>
	<ul class="tags">
		
		<li>
			<a href="/category/laravel/">
				Laravel
				<span class="count">16</span>
			</a>
		</li>
		
		<li>
			<a href="/category/linux/">
				Linux
				<span class="count">15</span>
			</a>
		</li>
		
		<li>
			<a href="/category/terminal/">
				Terminal
				<span class="count">11</span>
			</a>
		</li>
		
		<li>
			<a href="/category/algorithms/">
				Algorithms
				<span class="count">11</span>
			</a>
		</li>
		
		<li>
			<a href="/category/cryptography/">
				Cryptography
				<span class="count">11</span>
			</a>
		</li>
		
		<li>
			<a href="/category/git/">
				Git
				<span class="count">10</span>
			</a>
		</li>
		
		<li>
			<a href="/category/php/">
				PHP
				<span class="count">10</span>
			</a>
		</li>
		
		<li>
			<a href="/category/javascript/">
				JavaScript
				<span class="count">9</span>
			</a>
		</li>
		
		<li>
			<a href="/category/vim/">
				VIM
				<span class="count">8</span>
			</a>
		</li>
		
		<li>
			<a href="/category/unix/">
				UNIX
				<span class="count">8</span>
			</a>
		</li>
		
		<li>
			<a href="/category/programming/">
				Programming
				<span class="count">8</span>
			</a>
		</li>
		
		<li>
			<a href="/category/mysql/">
				MySQL
				<span class="count">6</span>
			</a>
		</li>
		
		<li>
			<a href="/category/essay/">
				Essay
				<span class="count">6</span>
			</a>
		</li>
		
		<li>
			<a href="/category/update/">
				Update
				<span class="count">5</span>
			</a>
		</li>
		
		<li>
			<a href="/category/devops/">
				DevOps
				<span class="count">5</span>
			</a>
		</li>
		
		<li>
			<a href="/category/tutorial/">
				Tutorial
				<span class="count">5</span>
			</a>
		</li>
		
		<li>
			<a href="/category/personal-challenge/">
				Personal Challenge
				<span class="count">5</span>
			</a>
		</li>
		
		<li>
			<a href="/category/apache/">
				Apache
				<span class="count">4</span>
			</a>
		</li>
		
		<li>
			<a href="/category/arcade-challenge/">
				Arcade Challenge
				<span class="count">4</span>
			</a>
		</li>
		
		<li>
			<a href="/category/productivity/">
				Productivity
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/regular-expressions/">
				Regular Expressions
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/data-structures/">
				Data Structures
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/user-interface/">
				User Interface
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/user-experience/">
				User Experience
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/general/">
				General
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/wget/">
				wget
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/vscode/">
				VSCode
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/email/">
				Email
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/bash/">
				Bash
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/wamp/">
				WAMP
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/python/">
				Python
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/blogmarks/">
				Blogmarks
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/databases/">
				Databases
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/tooling/">
				Tooling
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/graphics/">
				Graphics
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/selfreflection/">
				Self-reflection
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/security/">
				Security
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/cpanel/">
				cPanel
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/generative-art/">
				Generative Art
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/introduction/">
				Introduction
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/refactoring/">
				Refactoring
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/css/">
				CSS
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/scss/">
				SCSS
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/xfce/">
				XFCE
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/chrome-devtools/">
				Chrome DevTools
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/go/">
				Go
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/ssl/">
				SSL
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/jquery/">
				jQuery
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/art/">
				Art
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/tips/">
				Tips
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/review/">
				Review
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/artificial-intelligence/">
				Artificial Intelligence
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/mathematics/">
				Mathematics
				<span class="count">1</span>
			</a>
		</li>
		
	</ul>
</div>
<!-- Tags -->
			</div>
		</section>
	</div>
</main>

<footer>
    <span class="copyright">&copy; Abdush Shakoor</span>
</footer>

<script src="/static/vendor/jquery/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script defer id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98290003-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98290003-2');
</script>

<!-- <script>
    const darkModeButton = document.createElement('button');
    const syntaxHighlightSource = document.getElementById('syntaxHighlight');
    const menuList = document.querySelector('.menu');
    const themeSettings = {
        "dark": {
            "icon": '<i class="ph-moon-fill"></i>',
            "hljs": "/static/vendor/hljs/css/github-dark.css",
        },
        "light": {
            "icon": '<i class="ph-sun-fill"></i>',
            "hljs": "/static/vendor/hljs/css/github.min.css",
        },
    }

    function highlightMenuLink() {
        var currentURI = window.location.href;
        currentURI = currentURI.replace(window.location.protocol + "//", "");
        var currentPage	 = currentURI.split('/')[1];

        if(currentPage) {
            $('a[href="/' + currentPage + '"').parent().addClass('active');
        }
    }
    
    function initThemeSwitcher() {
        darkModeButton.innerHTML = themeSettings.light.icon;
        darkModeButton.classList.add('darkModeButton');
        
        darkModeButton.addEventListener('click', function(){
            switch(document.documentElement.getAttribute('data-theme')) {
                case 'dark':
                    lightMode();
                    break;

                case 'light':
                default:
                    darkMode();
                    break;
            }
        });
        
        var newItem = document.createElement('li');
        newItem.appendChild(darkModeButton);
        menuList.insertBefore(newItem, menuList.childNodes[menuList.childNodes - 1]);
    }
    

    // Settings for dark mode
    function darkMode() {
        darkModeButton.innerHTML = themeSettings.dark.icon;
        document.documentElement.setAttribute('data-theme', 'dark');
        syntaxHighlightSource.setAttribute('href', themeSettings.dark.hljs);
        localStorage.setItem("theme", "dark");
    }

    // Settings for light mode
    function lightMode() {
        darkModeButton.innerHTML = themeSettings.light.icon;
        document.documentElement.setAttribute('data-theme', '');
        syntaxHighlightSource.setAttribute('href', themeSettings.light.hljs);
        localStorage.setItem("theme", "");
    }

    function checkTheme() {
        const localStorageTheme = localStorage.getItem("theme");
        switch(localStorageTheme) {
            case "dark":
                darkMode();
                break;
            
            default:
                lightMode();
                break;
        }
    }

    // Check if the theme is stored in session
    window.onload = function() {
        initThemeSwitcher();
        checkTheme();
        highlightMenuLink();
    }

    //  open and close nav 
    $('#navbar-toggle').click(function() {
      $('nav ul').slideToggle();
    });

    // Hamburger toggle
    $('#navbar-toggle').on('click', function() {
      this.classList.toggle('active');
    });

    // Click outside the dropdown will remove the dropdown class
    $('html').click(function() {
      $('.navbar-dropdown').hide();
    });
</script> -->
</body>
</html>