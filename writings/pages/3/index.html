<!DOCTYPE html>
<html data-theme="" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Abdush Shakoor">
	
	<meta name="description" content="Sometimes, I write stuff about computers, math, technology & design..">
	<meta name="og:title" content="Writings | Abdush Shakoor's Weblog" />
	<meta name="og:type" content="article" />
	<meta name="og:url" content="" />
	<meta name="og:description" content="Sometimes, I write stuff about computers, math, technology & design." />
	<meta name="og:site_name" content="Abdush Shakoor's Weblog | Abdush Shakoor's Weblog" />
	
	<meta name="robots" content="follow">
	<title>Writings | Abdush Shakoor's Weblog </title>
	<link rel="stylesheet" href="/static/css/main.css" type="text/css">
	<link rel="stylesheet" href="/static/css/pygments.css" type="text/css">

	<link rel="apple-touch-icon" sizes="57x57" href="/static/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/static/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/static/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/static/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/static/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/static/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/static/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/static/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/static/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/static/favicon/png" sizes="192x192"  href="/static/favicon/android-icon-192x192.png">
<link rel="icon" type="image/static/favicon/png" sizes="32x32" href="/static/favicon/favicon-32x32.png">
<link rel="icon" type="image/static/favicon/png" sizes="96x96" href="/static/favicon/favicon-96x96.png">
<link rel="icon" type="image/static/favicon/png" sizes="16x16" href="/static/favicon/favicon-16x16.png">
<link rel="manifest" href="/static/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
	
	<!-- <script src="https://unpkg.com/phosphor-icons"></script> -->
	<!-- <script>
		if(localStorage.theme){
			document.documentElement.setAttribute('data-theme', localStorage.getItem("theme"));
		}
	</script> -->
</head>
<body class="">
	<!-- Navbar -->
	<header class="header">
	<!-- Logo with Author Name -->
	<div class="author">
		<a href="/">
			<img src="/static/logo.png" alt="megacolorboy">
			<div class="name">
				<h1>Abdush Shakoor's Weblog</h1>
				<p>Writings, experiments & ideas.</p>
			</div>
		</a>
	</div>
	<!-- Logo with Author Name -->
	<nav>
		<ul class="menu">
			
				<li><a href="/about">About</a></li>
			
				<li><a href="/archive">Archive</a></li>
			
				<li><a href="/resume">Resume</a></li>
			
		</ul>
	</nav>	
</header>

<main>
	<div class="two-col-grid">
		<section id="primary">
			<div class="articles">
				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/writing-a-book-on-how-to-build-reactjs-applications">Writing a book on how to build ReactJS applications</a></h1>
		<p class="description">I'm challenging myself to write a book on how to build simple applications using ReactJS</p>
	</div>
	<div class="article-body">
		<p>Over the past few months, I've been spending some of my free time to learn ReactJS and I've got to say, I really like it and got a hang of it after lots of trials and errors.</p>

<p>Just to make it clear, I didn't become a ReactJS expert or something but I figured that writing a book on something that you've learnt would help you understand the material much more deeper.</p>

<p>And since I do believe in it, I decided to challenge myself to write a book on it.</p>

<h2>What's the aim of the book?</h2>

<p>I aim to cover the fundamentals and concepts of ReactJS using a progressive and an example-driven approach. You know like on how to write reusable UI components, handle user events and interactions and managing state and props of a component.</p>

<p>By the end of this book, the reader will have solid understanding of React's concepts and be able to build cool applications using it.</p>

<h2>When's it going to be released?</h2>

<p>Honestly, I didn't plan on the size of the book yet but the practical content for it i.e. the actual code and applications are ready. I aim to release it somewhere around <strong>late April 2020</strong>.</p>

<h2>Are you planning to monetize it?</h2>

<p>Umm, nope! I believe that knowledge should be accessible for everyone and I plan on making the book open source, so that it can get updated as per the latest changes.</p>

<h2>Conclusion</h2>

<p>I know it's a short article but I feel like I wanted to challenge myself with a small goal for this year.</p>

<p>Let's see how it goes!</p>

	</div>
	<div class="article-footer">
		<time>March 13th, 2020</time>
		<ul class="tags">
			
			<li>
				<a href="/category/personal-challenge/">
					Personal Challenge
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/using-laravel-events-and-listeners-in-your-application">Using Laravel events and listeners in your application</a></h1>
		<p class="description">Sharing my experiences of using events and listeners in my Laravel application.</p>
	</div>
	<div class="article-body">
		<p>Recently, I have started learning Laravel and now, I'm building an application for my new company using this amazing framework.</p>

<p>My senior developer was curious and thought of having a conversation with me that went like this:</p>

<div class="codehilite"><pre><span></span><code>Senior dev: Hmm, can I have a look at your code?

Me: Oh sure, here take a look.

Senior: (Goes through project file structure)

Senior: So, have you ever thought of using events in your application?

Me: Yeah, I wrote a custom JavaScript file to handle and fire events on the client-side like validating the forms and passing async requests to the server.

Senior: Hmm, that&#39;s okay but I&#39;m talking using events in Laravel.
</code></pre></div>

<p>At this point, I was pretty clueless and I didn't know what the heck was going on. Events in PHP? I mean, I know about it in JavaScript because of it's event-driven architecture that we are all familiar with. But in PHP? I didn't know that.</p>

<p>Still confused, he proceeds to explain about it's concepts in an abstract manner and thanks to him, it induced my curiosity by asking myself: <strong><em>What's the deal in between using events over function calls using a route on a standard controller?</em></strong></p>

<p>In today's article, I'll be talking about why and when to use events over function calls using Laravel in your application.</p>

<h2>What's an event?</h2>

<p>An event is a piece of reusable logic stored somewhere in your application that has a set of listeners waiting to be executed, if triggered.</p>

<p>Let's say, you have a simple CRUD application that involves user registration. Whenever a user registers, you may want to perform certain actions, such as:</p>

<ul>
<li>Adding them into your mailing list</li>
<li>Confirmation of account</li>
</ul>

<p>You can add more but this is just to give you an idea. Let's see take a look at two different approaches:</p>

<ol>
<li><a href="#approach-1">Functional</a></li>
<li><a href="#approach-2">Events and Listeners</a></li>
</ol>

<h3><a id="approach-1"></a> Functional</h3>

<p>If you're using an MVC framework (Laravel, in our case), you'd do this in a controller with a bunch of methods like so:</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Http\Controllers\Controller</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\User</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">UserController</span> <span class="k">extends</span> <span class="nx">Controller</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// insert code to view users page</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">create</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$arr</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">username</span><span class="p">,</span>
            <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">email</span><span class="p">,</span>
            <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="nx">bcrypt</span><span class="p">(</span><span class="s1">&#39;something&#39;</span><span class="p">)</span>
        <span class="p">];</span>

        <span class="nv">$user</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="nv">$arr</span><span class="p">);</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sendConfirmationEmail</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">subscribeToMailingList</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Send confirmation email to user</span>
    <span class="k">private</span> <span class="k">function</span> <span class="nf">sendConfirmationEmail</span><span class="p">(</span><span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// insert code</span>
    <span class="p">}</span>

    <span class="c1">// Subscribe user to mailing list</span>
    <span class="k">private</span> <span class="k">function</span> <span class="nf">subscribeToMailingList</span><span class="p">(</span><span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// insert code</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>

<p>This is approach is self-contained and simple to follow but you're also adding in a lot of responsibility to your controller.</p>

<p>Not only that, what if the user wants to register from another place in your application, in that case, you'll have to duplicate your logic in multiple places.</p>

<h3><a id="approach-2"></a> Events and Listeners</h3>

<p>Using this approach, you can split this into <mark>Event</mark> and <mark>Listener</mark> files in your application.</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Http\Controllers\Controller</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\User</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">UserController</span> <span class="k">extends</span> <span class="nx">Controller</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// insert code to view users page</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">create</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$arr</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">username</span><span class="p">,</span>
            <span class="s1">&#39;email&#39;</span> <span class="o">=&gt;</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">email</span><span class="p">,</span>
            <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="nx">bcrypt</span><span class="p">(</span><span class="s1">&#39;something&#39;</span><span class="p">)</span>
        <span class="p">];</span>

        <span class="nv">$user</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="nv">$arr</span><span class="p">);</span>

        <span class="c1">// Emit event</span>
        <span class="nx">event</span><span class="p">(</span><span class="k">new</span> <span class="nx">UserRegistered</span><span class="p">(</span><span class="nv">$user</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>

<p>This is how your <mark>UserRegistered</mark> event would look like:</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">namespace</span> <span class="nx">App\Events</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Illuminate\Queue\SerializeModels</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\User</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">UserRegistered</span> <span class="p">{</span>
    <span class="k">use</span> <span class="nx">SerializesModels</span><span class="p">;</span>

    <span class="k">public</span> <span class="nv">$user</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">User</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">user</span> <span class="o">=</span> <span class="nv">$user</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>

<p>And this is how your <mark>SendConfirmationEmail</mark> listener would look like:</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">namespace</span> <span class="nx">App\Listeners</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Events\UserRegistered</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">SendConfirmationEmail</span> <span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">User</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// insert code</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">handle</span><span class="p">(</span><span class="nx">UserRegister</span> <span class="nv">$event</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// insert code</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>

<p>Using this approach, you can use the <mark>UserRegistered</mark> event anywhere you wanted in your application. No matter what happens, it will trigger the same actions as it was intended to do so. If you want to add a new functionality, create a new listener and register it with the event in your <mark>EventServiceProvider</mark> file like this:</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">protected</span> <span class="nv">$listen</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;App\Events\UserRegistered&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">&#39;App\Listeners\SendConfirmationEmail&#39;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">];</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>

<p>If you follow this approach, your logic complexity is toned down and the controller will have less responsibility.</p>

<h2>Why use events and listeners over function calls?</h2>

<p>Just like this answer that I found on <a href="https://stackoverflow.com/questions/4503723/why-use-event-listeners-over-function-calls">StackOverflow</a> question regarding events and listeners over calling functions:</p>

<blockquote>
  <p>You might not be in control of the code that's doing the calling. Or even if you are, you don't want to introduce dependencies into that code.</p>
</blockquote>

<p>Think about it, what if you built an API or library that you want people to use but don't want them to modify the source code. Instead, you could provide a documentation that states specific events are raised under specific circumstances, in turn, they can write code that responds to such events.</p>

<p>I'm sure that there are more examples as to where this methodology might be applied.</p>

<h2>When to use it?</h2>

<p>Truth be told, it depends. If you have a simple application, then a functional approach is all you need but it's a larger and more complicated application, using Events and Listeners can be a better option.</p>

<h2>Conclusion</h2>

<p>Please note, I'm not an expert at this topic as I'm still learning and I thought of sharing what I had learnt. If you have any suggestions or thoughts, please share it with me on <a href="https://twitter.com/megacolorboy">Twitter</a> or <a href="mailto:megacolorboy@gmail.com">send me</a> a message to my inbox.</p>

<p>Hope you liked reading this article.</p>

<p>Stay tuned for more.</p>

<h2>Extras</h2>

<ul>
<li><a href="https://stackoverflow.com/questions/4503723/why-use-event-listeners-over-function-calls">Why use event listeners over function calls</a></li>
<li><a href="https://stackoverflow.com/questions/17377442/meaning-of-event-in-php">The meaning of events in PHP</a></li>
<li><a href="https://laravel.com/docs/6.x/events">Laravel Events</a></li>
</ul>

	</div>
	<div class="article-footer">
		<time>February 7th, 2020</time>
		<ul class="tags">
			
			<li>
				<a href="/category/programming/">
					Programming
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/the-circle-packing-algorithm">The Circle Packing Algorithm</a></h1>
		<p class="description">Implemented a mathematically beautiful generative pattern that looks deceivingly complex to the human.</p>
	</div>
	<div class="article-body">
		<iframe width="100%" height="485" src="/static/projects/circle-packing"></iframe>

<p>Beautiful, isn't it? It might look complex but it's mathematically quite impressive. Making this pattern wasn't hard but it definitely took a lot of trial and error to get it right and honestly, I don't really know if it's this is the most efficient way to generate this pattern.</p>

<p>This article isn't a tutorial but rather, I'll be talking about the algorithm itself. However, you can check out the source code in my <a href="https://github.com/megacolorboy/BlogProjects">GitHub repository</a>.</p>

<h2>How it works?</h2>

<p>In order to achieve that "stacked" effect, there are two things to keep in mind:</p>

<ol>
<li>Generate circles with a random radius</li>
<li>Look for collisions with other circles</li>
</ol>

<p>The logic is quite similar to the <a href="https://stackoverflow.com/questions/306316/determine-if-two-rectangles-overlap-each-other">Overlapping Rectangles</a> problem except this is done with circles.</p>

<h2>Generate circles with dynamic radius</h2>

<p>This method will help generate valid circles with a random radius. Circles that don't overlap or collide with other circles are considered to be valid.</p>

<div class="codehilite"><pre><span></span><code><span class="c1">// Generate a valid circle</span>
<span class="kd">const</span> <span class="nx">generateCircle</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">newCircle</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">isValidCircle</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">attempts</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">newCircle</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">x</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">width</span><span class="p">),</span>
            <span class="nx">y</span><span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">width</span><span class="p">),</span>
            <span class="nx">radius</span><span class="o">:</span> <span class="nx">minRadius</span>
        <span class="p">};</span>

        <span class="k">if</span><span class="p">(</span><span class="nx">checkForCollision</span><span class="p">(</span><span class="nx">newCircle</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">isValidCircle</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">isValidCircle</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="nx">minRadius</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;=</span><span class="nx">maxRadius</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">newCircle</span><span class="p">.</span><span class="nx">radius</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">checkForCollision</span><span class="p">(</span><span class="nx">newCircle</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">newCircle</span><span class="p">.</span><span class="nx">radius</span><span class="o">--</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">circles</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">newCircle</span><span class="p">);</span>
    <span class="nx">drawCircleOnCanvas</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">newCircle</span><span class="p">,</span> <span class="nx">colors</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">colors</span><span class="p">.</span><span class="nx">length</span><span class="p">)]);</span>
<span class="p">}</span>
</code></pre></div>

<h2>Look for collision with other circles</h2>

<p>Thanks to some online research, I was able implement the <a href="https://en.wikipedia.org/wiki/Euclidean_distance">Euclidean Distance</a> equation that helped with calculating the distances between each circle and detect for collisions. Along with that, I also found another article on <a href="http://www.mathsmutt.co.uk/files/tcirc.htm">Touching Circles</a> that was quite useful.</p>

<p>These are the formulas used to detect the collision:</p>

<ol>
<li><p>Find the distance between two centres
\[ AB = \sqrt{ (x2 - x1)^2 - (y2 - y1)^2} \]</p></li>
<li><p>Calculate the radii of both circles.
\[R = r1 + r2\]</p></li>
</ol>

<p>If the radii is greater than or equal to the euclidean distance of both circles, then it's a valid circle with no collisions.</p>

<div class="codehilite"><pre><span></span><code><span class="c1">// Check for collision in a canvas</span>
<span class="kd">const</span> <span class="nx">checkForCollision</span> <span class="o">=</span> <span class="p">(</span><span class="nx">newCircle</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>

    <span class="kd">let</span> <span class="nx">x2</span> <span class="o">=</span> <span class="nx">newCircle</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">y2</span> <span class="o">=</span> <span class="nx">newCircle</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">r2</span> <span class="o">=</span> <span class="nx">newCircle</span><span class="p">.</span><span class="nx">radius</span><span class="p">;</span>


    <span class="c1">// Determine the euclidean distance between two circle</span>
    <span class="c1">// using Pythagorean Theorem.</span>

    <span class="c1">// Refer to: </span>
    <span class="c1">// https://en.wikipedia.org/wiki/Euclidean_distance</span>

    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">circles</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

        <span class="kd">let</span> <span class="nx">otherCircle</span> <span class="o">=</span> <span class="nx">circles</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="kd">let</span> <span class="nx">r1</span> <span class="o">=</span> <span class="nx">otherCircle</span><span class="p">.</span><span class="nx">radius</span><span class="p">;</span>
        <span class="kd">let</span> <span class="nx">x1</span> <span class="o">=</span> <span class="nx">otherCircle</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
        <span class="kd">let</span> <span class="nx">y1</span> <span class="o">=</span> <span class="nx">otherCircle</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
        <span class="kd">let</span> <span class="nx">xx</span> <span class="o">=</span> <span class="p">((</span><span class="nx">x2</span> <span class="o">-</span> <span class="nx">x1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">x2</span> <span class="o">-</span> <span class="nx">x1</span><span class="p">));</span>
        <span class="kd">let</span> <span class="nx">yy</span> <span class="o">=</span> <span class="p">((</span><span class="nx">y2</span> <span class="o">-</span> <span class="nx">y1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">y2</span> <span class="o">-</span> <span class="nx">y1</span><span class="p">));</span>
        <span class="kd">let</span> <span class="nx">radii</span> <span class="o">=</span> <span class="nx">r2</span> <span class="o">+</span> <span class="nx">r1</span><span class="p">;</span>
        <span class="kd">let</span> <span class="nx">euclidDistance</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">xx</span> <span class="o">+</span> <span class="nx">yy</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="nx">radii</span> <span class="o">&gt;=</span> <span class="nx">euclidDistance</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// Check collision on top</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">x2</span> <span class="o">+</span> <span class="nx">r2</span> <span class="o">&gt;=</span> <span class="nx">width</span> <span class="o">||</span> 
        <span class="nx">x2</span> <span class="o">-</span> <span class="nx">r2</span> <span class="o">&lt;=</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Check collision on bottom</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">y2</span> <span class="o">+</span> <span class="nx">r2</span> <span class="o">&gt;=</span> <span class="nx">width</span> <span class="o">||</span> 
        <span class="nx">y2</span> <span class="o">-</span> <span class="nx">r2</span> <span class="o">&lt;=</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">//else return false</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h2>Conclusion</h2>

<p>I'm thinking of implementing more generative patterns like <a href="https://en.wikipedia.org/wiki/Triangle_mesh">Triangular Mesh</a> and Piet Mondrian's <a href="https://en.wikipedia.org/wiki/Composition_with_Red_Blue_and_Yellow">Red, Blue and Yellow composition</a>.</p>

<p>Hope you liked reading this article.</p>

<p>Stay tuned for more!</p>

	</div>
	<div class="article-footer">
		<time>December 8th, 2019</time>
		<ul class="tags">
			
			<li>
				<a href="/category/algorithms/">
					Algorithms
				</a>
			</li>
			
			<li>
				<a href="/category/art/">
					Art
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/deploy-your-laravel-app-on-heroku">Deploy your Laravel app on Heroku</a></h1>
		<p class="description">Learn how to deploy your Laravel application along with a database on Heroku.</p>
	</div>
	<div class="article-body">
		<p>In my <a href="/posts/getting-started-with-laravel-homestead">previous article</a>, I talked about how to setup your environment for developing your Laravel applications. Today, I'll be talking about deploying your application along with a database on Heroku.</p>

<p>I wrote a simple CRUD application using Laravel but didn't understand on how to host it. I tried to host it on free shared hosting service but apparently, most of them don't support PHP system calls like <mark>proc_open()</mark>. However, if it was a VPS hosting service, it's supported but ain't nobody got time for shelling out cash for a test drive.</p>

<p>As an alternative, I went on google and discovered that Heroku does support my requirements and it worked flawlessly, which is why I thought of sharing this information to others as well.</p>

<p>If you're a developer who's at the early stages of learning Laravel (like me &#x1f606;), then this article is for you.</p>

<h2>Prerequisites</h2>

<p>You'll be doing some minor configurations, so you should be fine as long as you have a stable internet connection, familiar with using the CLI (Command Line Interface) and have some PHP knowledge.</p>

<p>If you're a Windows user, please <a href="https://gitforwindows.org">Git for Windows</a>. Else, if you're a Linux or macOS user, you should be fine.</p>

<h2>How to deploy?</h2>

<p>You can ignore the first two steps if you already know about Heroku and how to work with it but please follow the rest of the steps:</p>

<ol>
<li><a href="#step-1">Install Heroku</a></li>
<li><a href="#step-2">Create a Heroku repository</a></li>
<li><a href="#step-3">Define Procfile</a></li>
<li><a href="#step-4">Push Laravel app to repository</a></li>
<li><a href="#step-5">Add configuration variables</a></li>
<li><a href="#step-6">Setup your database</a></li>
</ol>

<h3><a id="step-1"></a> Install Heroku CLI</h3>

<p>You can install this directly from the command line by typing the following:</p>

<div class="codehilite"><pre><span></span><code>sudo snap install heroku --classic
</code></pre></div>

<h3><a id="step-2"></a> Create a Heroku repository</h3>

<p>If you don't have a Heroku account yet, <a href="https://heroku.com">create an account</a> now and once you're done with that, type the following:</p>

<div class="codehilite"><pre><span></span><code>heroku login
</code></pre></div>

<p>Follow the login instructions from the command line prompt, fill in your login credentials and you'll be in!</p>

<p>Once, you're done with that, create a repository by doing the following:</p>

<div class="codehilite"><pre><span></span><code>heroku create
</code></pre></div>

<p>In a few seconds, you'll get a randomly generated domain address, which is the link to your Heroku repository. If you can't remember the link, it's fine, you can make changes to it in your Heroku account.</p>

<h3><a id="step-3"></a> Define Procfile</h3>

<p>In case, you don't know what's a Procfile, it's a file that specifies the commands that needs to be executed by the application on startup. You can declare a variety of process types, <a href="https://devcenter.heroku.com/articles/procfile">click here</a> to learn more.</p>

<p>Since our application is PHP based, we need to add some specific command that selects the server on boot, I chose Apache server for this project:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cd</span> your_laravel_project
touch Procfile
<span class="nb">echo</span> <span class="s2">&quot;web: vendor/bin/heroku-php-apache2 web/&quot;</span> &gt; Procfile
</code></pre></div>

<h3><a id="step-4"></a> Push Laravel app to repository</h3>

<p>It's similar to pushing your code into your GitHub, except this time, it's your Heroku repository. Type the following in your command line:</p>

<div class="codehilite"><pre><span></span><code>git add .
git commit -m <span class="s2">&quot;pushing application to repo&quot;</span>
git push heroku master
</code></pre></div>

<p>To check if your application is launched, type the following:</p>

<div class="codehilite"><pre><span></span><code>heroku open
</code></pre></div>

<p>At this stage, you might face <mark>Error 500</mark>, that's normal because we'll take care of that in the next step.</p>

<h3><a id="step-5"></a> Configure your Heroku environment</h3>

<p>We need to add some config variables that changes the way your app behaves. So, let's start adding it:</p>

<div class="codehilite"><pre><span></span><code>heroku config:set <span class="nv">APP_DEBUG</span><span class="o">=</span><span class="nb">true</span>
heroku config:set <span class="nv">APP_KEY</span><span class="o">=</span>yourlaravelapplicationkey
heroku config:set <span class="nv">APP_URL</span><span class="o">=</span>https://yourwebsite.herokuapp.com
heroku config:set <span class="nv">REDIRECT_HTTPS</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div>

<p>In this configuration, you have done the following:
- Enabled debug mode
- Set your Laravel application's base64 encrypted key
- The website's URL
- Force HTTPS redirect (Useful, when you're calling external assets that uses HTTPS protocol)</p>

<p><strong>Note:</strong> You can find your <mark>APP_KEY</mark> in your <mark>.env</mark> file that's found in your project directory.</p>

<h3><a id="step-6"></a> Setup your database</h3>

<p>Initially, I built the database on MySQL but I later learnt that Heroku gives a free PostgreSQL starter database. I've never tried PostgreSQL before but it's quite similar to MySQL, so you shouldn't worry about your schema as Laravel supports PostgreSQL and MySQL databases by default.</p>

<p>Type the following in the command line:</p>

<div class="codehilite"><pre><span></span><code>heroku addons:create heroku-postgresql:hobby-dev
</code></pre></div>

<p>This will create a PostgreSQL database and sets a <mark>DATABASE_URL</mark>, which contains the username and password to the database. To check it, type the following:</p>

<div class="codehilite"><pre><span></span><code>heroku config
</code></pre></div>

<p>Now, go to your project directory and open the <mark>config/database.php</mark>  file and add the following:</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Place these variables above</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="nb">parse_url</span><span class="p">(</span><span class="nb">getenv</span><span class="p">(</span><span class="s2">&quot;DATABASE_URL&quot;</span><span class="p">));</span>
<span class="nv">$host</span> <span class="o">=</span> <span class="nv">$url</span><span class="p">[</span><span class="s2">&quot;host&quot;</span><span class="p">]</span><span class="o">??</span><span class="k">null</span><span class="p">;</span>
<span class="nv">$username</span> <span class="o">=</span> <span class="nv">$url</span><span class="p">[</span><span class="s2">&quot;user&quot;</span><span class="p">]</span><span class="o">??</span><span class="k">null</span><span class="p">;</span>
<span class="nv">$password</span> <span class="o">=</span> <span class="nv">$url</span><span class="p">[</span><span class="s2">&quot;pass&quot;</span><span class="p">]</span><span class="o">??</span><span class="k">null</span><span class="p">;</span>
<span class="nv">$database</span> <span class="o">=</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$url</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span><span class="o">??</span><span class="k">null</span><span class="p">;</span>

<span class="c1">// Replace the default connection</span>
<span class="s1">&#39;default&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;DB_CONNECTION&#39;</span><span class="p">,</span> <span class="s1">&#39;pgsql_prod&#39;</span><span class="p">),</span>

<span class="c1">// Under the connections attribute, create a new connection called &#39;pgsql_prod&#39;</span>
<span class="s1">&#39;pgsql_production&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">&#39;driver&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;pgsql&#39;</span><span class="p">,</span>
    <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="nv">$host</span><span class="p">,</span>
    <span class="s1">&#39;database&#39;</span> <span class="o">=&gt;</span> <span class="nv">$database</span><span class="p">,</span>
    <span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="nv">$username</span><span class="p">,</span>
    <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="nv">$password</span><span class="p">,</span>
    <span class="s1">&#39;charset&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">,</span>
    <span class="s1">&#39;prefix&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;schema&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;public&#39;</span><span class="p">,</span>
<span class="p">],</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>

<p>Push the new changes to your repository:</p>

<div class="codehilite"><pre><span></span><code>git add .
git commit -m <span class="s2">&quot;configured database&quot;</span>
git push heroku master
</code></pre></div>

<p>One last step, we need to create the tables from your schema, so type the following:</p>

<div class="codehilite"><pre><span></span><code>heroku run php /app/artisan migrate --seed
</code></pre></div>

<p>Follow the command line prompt and voila, you have successfully deployed your Laravel application with a database on Heroku.</p>

<h2>Conclusion</h2>

<p>Well, I hope you found this article really useful especially if you're a beginner. If you do find this useful, please share it with others too!</p>

<p>Stay tuned for more!</p>

	</div>
	<div class="article-footer">
		<time>November 29th, 2019</time>
		<ul class="tags">
			
			<li>
				<a href="/category/tutorial/">
					Tutorial
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/getting-started-with-laravel-homestead">Getting started with Laravel Homestead</a></h1>
		<p class="description">Wanted to install Laravel but scared of configuring files on your host operating system? This article is for you.</p>
	</div>
	<div class="article-body">
		<p>I started learning Laravel and I thought of writing a small tutorial on how to setup your own local development environment for Laravel projects with Laravel Homestead and Vagrant.</p>

<h2>What is Laravel Homestead?</h2>

<p>It's an official package from Laravel that provides a neat development environment that comes along with a Vagrant box that has pre-installed software. Read their <a href="https://laravel.com/docs/6.x/homestead">documentation</a> to know more about it.</p>

<p><strong>Note:</strong> The examples of this tutorial are applicable to any developer that uses any UNIX-based operating systems such as macOS or any Linux distributions like Ubuntu. If you're using Windows, I recommend that you install <a href="https://gitforwindows.org">Git for Windows</a> on your local machine.</p>

<h2>Prerequisites</h2>

<p>The only requirement for this tutorial is that you should be familiar with using the command-line interface.</p>

<h2>Install VirtualBox and Vagrant</h2>

<p><a href="https://virtualbox.org">VirtualBox</a> is the software used to run a virtual machine with a sandbox operating system within your own computer.</p>

<p><a href="https://vagrantup.com">Vagrant</a> is a software that's used to manage a development environment. Through the command-line, you can perform any operation such as installing an OS, configuration, deployment and so on.</p>

<p>You can install VirtualBox and Vagrant via the command-line:</p>

<div class="codehilite"><pre><span></span><code>sudo apt install virtualbox vagrant
</code></pre></div>

<p>Once you're done installing them, you should add the <mark>laravel/homestead</mark> box to your Vagrant installation using the following command:</p>

<div class="codehilite"><pre><span></span><code>vagrant box add laravel/homestead
</code></pre></div>

<p>To check if it has been installed, use the following command:</p>

<div class="codehilite"><pre><span></span><code>vagrant box list <span class="p">|</span> grep <span class="s2">&quot;homestead&quot;</span>
</code></pre></div>

<p>Using VirtualBox and Vagrant allows you to simulate your Laravel development environment without messing up any configurations on your hosting system. Even if you did, no worries, Vagrant boxes are disposable, so you can destroy and create a new box again in minutes.</p>

<h2>Download Laravel Homestead</h2>

<p>You can install Homestead by cloning it's repository onto your local machine by typing the following command:</p>

<div class="codehilite"><pre><span></span><code>git clone https://github.com/laravel/homestead.git ~/projects/Homestead
</code></pre></div>

<h3>Generate configuration file</h3>

<p>Once you're done cloning the repository, go inside the <mark>projects/Homestead</mark> directory and run the <mark>init.sh</mark> or <mark>init.bat</mark> (for Windows) to create the <mark>Homestead.yaml</mark> configuration file:</p>

<div class="codehilite"><pre><span></span><code><span class="nb">cd</span> projects/Homestead
bash init.sh
</code></pre></div>

<p>Open the default <mark>Homestead.yaml</mark> file and make the following changes:</p>

<div class="codehilite"><pre><span></span><code><span class="nn">---</span><span class="w"></span>
<span class="nt">ip</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;192.168.10.10&quot;</span><span class="w"></span>
<span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2048</span><span class="w"></span>
<span class="nt">cpus</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">virtualbox</span><span class="w"></span>

<span class="nt">authorize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">~/.ssh/id_rsa.pub</span><span class="w"></span>

<span class="nt">keys</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">~/.ssh/id_rsa</span><span class="w"></span>

<span class="nt">folders</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">map</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">~/projects/code</span><span class="w"></span>
<span class="w">      </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/home/vagrant/projects/code</span><span class="w"></span>

<span class="nt">sites</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">map</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">homestead.test</span><span class="w"></span>
<span class="w">      </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/home/vagrant/projects/code/public</span><span class="w"></span>

<span class="nt">databases</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">homestead</span><span class="w"></span>
</code></pre></div>

<h3>Generate SSH key</h3>

<p>The documentation for Laravel Homestead doesn't really talk about generating SSH keys used to access the Vagrant box. Use the following command to generate it using <mark>ssh-keygen</mark> on the command-line:</p>

<div class="codehilite"><pre><span></span><code>ssh-keygen -t rsa -C <span class="s2">&quot;root@homestead&quot;</span>
</code></pre></div>

<h3>Map the project's shared folder</h3>

<p>Make sure that you have created a folder named <mark>code</mark> in your <mark>projects</mark> directory. This folder will keep all of your Laravel project files in sync between your local machine and Homestead environment.</p>

<h2>Installing Laravel</h2>

<p>Time to install Laravel into your virtual machine. So, get switch on your virtual machine by doing the following in the command-line:</p>

<div class="codehilite"><pre><span></span><code>vagrant up
</code></pre></div>

<p>As you're switching it on for the first time, depending on your internet connection, it might take somewhere around 10-20 minutes to getting it running but it'll be fine afterwards.</p>

<p>Alright, login to your Vagrant machine by doing the following the command-line:</p>

<div class="codehilite"><pre><span></span><code>vagrant ssh
</code></pre></div>

<p>Once you're in, go to your <mark>code</mark> directory and type the following in the command-line:</p>

<div class="codehilite"><pre><span></span><code>composer global require laravel/installer
</code></pre></div>

<h2>Create a new project</h2>

<p>Now, it's time to create a new Laravel project by simply typing the following command:</p>

<div class="codehilite"><pre><span></span><code>laravel new projectname
</code></pre></div>

<p>It'll take some time to generate the necessary files and boilerplate code and after that, you're good to go!</p>

<p>Oh, you should be able to see the Laravel project files in your local machine as it's synced with the virtual machine and local machine. That means, any changes made on either machines will be synced and reflected on both ends.</p>

<h2>Map your hosts file</h2>

<p>One last step, make sure you map your project's test domain onto your local machine's <mark>hosts</mark> file.</p>

<p>Open a text-editor of your choice and do the following in the <mark>etc/hosts</mark> file:</p>

<div class="codehilite"><pre><span></span><code>127.0.0.1   localhost
::1         localhost

# Add this line (Note: It can be any URL)
127.0.0.1   homestead.test
</code></pre></div>

<p>Now, go to your browser and type <mark>homestead.test</mark> and you should be able to see your Laravel project's sample layout.</p>

<h2>Conclusion</h2>

<p>As mentioned, in the beginning of this article, I have started to learn Laravel and I'll be building some projects and writing out my experiences about it soon.</p>

<p>I hope you liked reading this article and please share it with others if you do find this tutorial useful.</p>

<p>Stay tuned for more!</p>

	</div>
	<div class="article-footer">
		<time>November 16th, 2019</time>
		<ul class="tags">
			
			<li>
				<a href="/category/tutorial/">
					Tutorial
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/build-your-own-static-site-generator-using-python">Build your own Static Site Generator using Python</a></h1>
		<p class="description">Are you curious enough to build your own Static Site Generator? This article is for you.</p>
	</div>
	<div class="article-body">
		<p>If you are curious about web development, you must have came across names like Jekyll, Hugo, Gatsby and more. These names that I mentioned are called Static Site generators. In fact, this website that you're on, is powered by a static site generator and I really like it so far.</p>

<p>In today's article, you'll learn how to build your own Static Site Generator using Python, create a blog and host it on Netlify for free. Please note, that this is a basic tutorial that would show the bare-metals of this generator.</p>

<p>These are the pre-requisities to this tutorial:</p>

<ul>
<li>Basic understanding of Python, Git, HTML and Markdown</li>
<li>Basic knowledge of file I/O</li>
<li>Know-how on using the command-line</li>
</ul>

<p>If you don't know them, it's okay, you can still do your own research on Google and learn on-the-go!</p>

<p>Before we jump in, let's see why is it the latest craze!</p>

<h2>Why is it popular?</h2>

<p>Take a blog, it's a dynamic web application that consists of a lot of sections like blog posts, archives and categories. Each time, a user visits a blog post, it sends a GET request to the server, fetches the data, then generates a webpage along with the fetched data on-the-fly. However, with a static site generator, you only serve pre-rendered files, so you don't have to generate or create anything on-the-fly, it's already there!</p>

<p>Apart from that, applications like a blog are usually database-dependant and you need to host it somewhere with a price. Not only that, but it does have security risks. With static site generators, you write your content on a markdown file and then convert it into static HTML files, which can then be used to host your website on services like GitHub Pages or Netlify for free and you don't have to worry about any security issues.</p>

<h2>What are the functionalities?</h2>

<p>These are the functionalities that we'd require in a blog:</p>

<ul>
<li>Display all blog articles</li>
<li>Pagination module</li>
<li>A page for each article</li>
</ul>

<p>So, let's go ahead and start with building the project.</p>

<h2>Time to build it!</h2>

<p>Let's plan before we dive in straight into coding it. This is the file structure we'll be following in this tutorial:</p>

<h3>Create file structure</h3>

<p>This is the file structure we're going to follow in this tutorial, so create it before you proceed with the tutorial.</p>

<div class="codehilite"><pre><span></span><code>\blog-ssg
    \content
    \output
    \templates
    make_entry.py
    ssg.py
    ssglib.py
</code></pre></div>

<p>Next, install the following dependencies using <mark>pip</mark>:</p>

<div class="codehilite"><pre><span></span><code>pip install markdown2
pip install jinja2
</code></pre></div>

<h3>Generate markdown files</h3>

<p>Go to your <mark>make_entry.py</mark> file and copy-paste this code. This will be used to generate markdown file for you to edit instead of having to create it manually all the time.</p>

<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c1"># This is the Markdown template</span>
<span class="n">TEMPLATE</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">title: </span><span class="si">{title}</span><span class="s2"></span>
<span class="s2">date: </span><span class="si">{date}</span><span class="s2"></span>
<span class="s2">slug: </span><span class="si">{slug}</span><span class="s2"></span>
<span class="s2">category: Write category here.</span>
<span class="s2">summary: Write summary here.</span>

<span class="s2">Write content here.</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">suffix</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;th&#39;</span> <span class="k">if</span> <span class="mi">11</span><span class="o">&lt;=</span><span class="n">d</span><span class="o">&lt;=</span><span class="mi">13</span> <span class="k">else</span> <span class="p">{</span><span class="s1">&#39;1&#39;</span><span class="p">:</span><span class="s1">&#39;st&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span><span class="s1">&#39;nd&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span><span class="s1">&#39;rd&#39;</span><span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">d</span><span class="o">%</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;th&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">custom_strftime</span><span class="p">(</span><span class="nb">format</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{S}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">day</span><span class="p">)</span> <span class="o">+</span> <span class="n">suffix</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">day</span><span class="p">))</span>

<span class="c1"># Generate file number by looking at the number blog articles in the directory</span>
<span class="k">def</span> <span class="nf">gen_file_no</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">existing_files</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If no files are found,</span>
<span class="sd">        then this is the first file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_files</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Look for the biggest file number</span>
<span class="sd">        and return the bigger one</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefixes</span> <span class="o">=</span> <span class="p">[</span><span class="n">filename</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)[:</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">existing_files</span><span class="p">]</span>
    <span class="n">biggest_prefix</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">prefixes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">biggest_prefix</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

<span class="c1"># Generate slug for the blog article</span>
<span class="k">def</span> <span class="nf">gen_slug</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">title</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">isalnum</span><span class="p">()</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">title</span>

<span class="c1"># Create entry</span>
<span class="k">def</span> <span class="nf">make_entry</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">file_type</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;articles&quot;</span><span class="p">:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;content/&quot;</span> <span class="o">+</span> <span class="n">file_type</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span>

        <span class="c1"># Create folders if they didn&#39;t exist</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>

        <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">slug</span> <span class="o">=</span> <span class="n">gen_slug</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="n">file_no</span> <span class="o">=</span> <span class="n">gen_file_no</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">existing_files</span><span class="o">=</span><span class="n">glob</span><span class="p">(</span><span class="n">file_path</span> <span class="o">+</span> <span class="s2">&quot;*.md&quot;</span><span class="p">))</span>
        <span class="n">blog_file_path</span> <span class="o">=</span> <span class="n">file_path</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="si">{:0&gt;2}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">_</span><span class="si">{:0&gt;2}</span><span class="s2">_</span><span class="si">{:0&gt;2}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">.md&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">file_no</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="n">slug</span><span class="p">)</span>

        <span class="n">post_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">date</span><span class="p">()),</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">post_date</span> <span class="o">=</span> <span class="n">custom_strftime</span><span class="p">(</span><span class="s1">&#39;%B </span><span class="si">{S}</span><span class="s1">, %Y&#39;</span><span class="p">,</span> <span class="n">post_date</span><span class="p">)</span>

        <span class="n">t</span> <span class="o">=</span> <span class="n">TEMPLATE</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
            <span class="n">year</span><span class="o">=</span><span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
            <span class="n">month</span><span class="o">=</span><span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">,</span>
            <span class="n">date</span><span class="o">=</span><span class="n">post_date</span><span class="p">,</span>
            <span class="n">slug</span><span class="o">=</span><span class="n">slug</span><span class="p">)</span>      

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">blog_file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">w</span><span class="p">:</span>
            <span class="n">w</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

        <span class="nb">print</span> <span class="n">blog_file_path</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">make_entry</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s2">&quot;Enter blog title and article type&quot;</span>
</code></pre></div>

<p>To create a blog entry, just type this in your terminal:</p>

<div class="codehilite"><pre><span></span><code>python make_entry.py <span class="s2">&quot;Article Name&quot;</span> articles
</code></pre></div>

<h3>Create a library</h3>

<p>This library must have the following functionalities:</p>

<ul>
<li><a href="#stub-1">Fetch content from Markdown files</a></li>
<li><a href="#stub-2">Create templates</a></li>
<li><a href="#stub-3">Generate index page</a></li>
<li><a href="#stub-4">Generate articles from Markdown to HTML</a></li>
<li><a href="#stub-5">Generate pagination module</a></li>
<li><a href="#stub-6">Generate blog</a></li>
</ul>

<p>So, create a new file named <mark>ssglib.py</mark> and let's do each of the functionality step-by-step to gain a deeper understanding of each method/function in the library.</p>

<p>Before that, add the following lines to the file:</p>

<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">PackageLoader</span>
<span class="kn">from</span> <span class="nn">markdown2</span> <span class="kn">import</span> <span class="n">markdown</span>
<span class="kn">from</span> <span class="nn">argparse</span> <span class="kn">import</span> <span class="n">Namespace</span>

<span class="c1"># Jinja2 Environment</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">loader</span><span class="o">=</span><span class="n">PackageLoader</span><span class="p">(</span><span class="s1">&#39;ssg&#39;</span><span class="p">,</span><span class="s1">&#39;templates&#39;</span><span class="p">))</span>
</code></pre></div>

<h4><a id="stub-1"></a> Fetch content from Markdown files</h4>

<p>This method will fetch content from all of the Markdown files that resides in the <mark>content/articles</mark> folder.</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Get Markdown files from content directory</span>
<span class="k">def</span> <span class="nf">get_markdown_files</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
    <span class="n">POSTS</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;content/&#39;</span>

    <span class="k">for</span> <span class="n">md_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">md_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">md_file</span><span class="p">)</span>

        <span class="c1"># if it&#39;s not a directory, read it</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">md_file_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">md_file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">POSTS</span><span class="p">[</span><span class="n">md_file</span><span class="p">]</span> <span class="o">=</span> <span class="n">markdown</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">extras</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">POSTS</span>
</code></pre></div>

<h4><a id="stub-2"></a> Create templates</h4>

<p>You'll need to create two templates, one for home page and the other is for your articles. All templates will reside in the <mark>templates</mark> folder.</p>

<p>This is the template for the home page of your blog and you can name this as <mark>index.html</mark>:</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My Blog<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">base</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/&quot;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;posts-list&quot;</span><span class="p">&gt;</span>
            {% for post in posts %}
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;posts/{{ post.slug }}/&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ post.date }} <span class="ni">&amp;mdash;</span> {{ post.title }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% endfor %}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;paginator&quot;</span><span class="p">&gt;</span>
            {% if curr == 2 %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;prev&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;prev&quot;</span><span class="p">&gt;</span>Newer<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% elif prev != 0 %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;prev&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/pages/{{prev}}&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;prev&quot;</span><span class="p">&gt;</span>Newer<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% else %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;prev inactive&quot;</span><span class="p">&gt;</span>Newer<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% endif %}

            <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{curr}} <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>of<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> {{total}}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

            {% if next != 0 %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;next&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/pages/{{next}}&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;next&quot;</span><span class="p">&gt;</span>Older<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% else %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;next inactive&quot;</span><span class="p">&gt;</span>Older<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% endif %}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p>This is the template for the article page and you can name this as <mark>article.html</mark>:</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>{{ post.title }}<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;author&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;Your name&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;{{ post.summary }}.&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-main&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-info&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">h5</span><span class="p">&gt;</span>{{ post.category }}<span class="p">&lt;/</span><span class="nt">h5</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ post.title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ post.summary }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">h6</span><span class="p">&gt;</span>Your name <span class="ni">&amp;mdash;</span> {{ post.date }}<span class="p">&lt;/</span><span class="nt">h6</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>    
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-container&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;content&quot;</span><span class="p">&gt;</span>
            {{ post.content }}
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p>Though, this is just a bare-bone template, you can be creative and make your own changes to it by making it visually-appealing!</p>

<h4><a id="stub-3"></a> Generate index page</h4>

<p>This method will create your index page. The index page will contain the links for each article.</p>

<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">isPaginate</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">posts_metadata</span> <span class="o">=</span> <span class="n">get_posts_metadata</span><span class="p">(</span><span class="n">POSTS</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">isPaginate</span><span class="p">:</span>
        <span class="n">template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;index-alt.html&#39;</span><span class="p">)</span>
        <span class="n">html_content</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">posts</span><span class="o">=</span><span class="n">posts_metadata</span><span class="p">)</span>
        <span class="n">index_path</span> <span class="o">=</span> <span class="s1">&#39;output/index.html&#39;</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">index_path</span><span class="p">,</span> <span class="n">html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">),</span>
            <span class="s2">&quot;posts_metadata&quot;</span><span class="p">:</span> <span class="n">posts_metadata</span><span class="p">,</span>

            <span class="c1"># Keeps tracks the current post</span>
            <span class="s2">&quot;curr_posts_index&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>

            <span class="c1"># Total number of posts</span>
            <span class="s2">&quot;total_posts&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">POSTS</span><span class="p">),</span>

            <span class="c1"># Number of posts per page</span>
            <span class="s2">&quot;posts_per_page&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>

            <span class="c1"># Directory to hold the pages</span>
            <span class="s2">&quot;main_pages_path&quot;</span><span class="p">:</span> <span class="s2">&quot;output/pages/&quot;</span>
        <span class="p">}</span>
        <span class="n">pagination</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>

<h4><a id="stub-4"></a> Generate articles from Markdown to HTML</h4>

<p>This method will convert your Markdown content into HTML pages. One thing to note, each blog post will have it's own folder name with it's own slug and <mark>index.html</mark> file, so that it'll be easier to access the article.</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Generate all posts</span>
<span class="k">def</span> <span class="nf">articles</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">post_template</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">POSTS</span><span class="p">:</span>
        <span class="n">post_metadata</span> <span class="o">=</span> <span class="n">POSTS</span><span class="p">[</span><span class="n">post</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span>
        <span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">POSTS</span><span class="p">[</span><span class="n">post</span><span class="p">],</span>
            <span class="s1">&#39;slug&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">],</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
            <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">],</span>
            <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span>
            <span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="n">post_html_content</span> <span class="o">=</span> <span class="n">post_template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">post</span><span class="o">=</span><span class="n">post_data</span><span class="p">)</span>
        <span class="n">post_file_path</span> <span class="o">=</span> <span class="s1">&#39;output/posts/</span><span class="si">{slug}</span><span class="s1">/index.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">slug</span><span class="o">=</span><span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">])</span>
        <span class="n">create_directory</span><span class="p">(</span><span class="n">post_file_path</span><span class="p">)</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">post_file_path</span><span class="p">,</span> <span class="n">post_html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</code></pre></div>

<h4><a id="stub-5"></a> Generate pagination module</h4>

<p>Depending on the amount of blog articles you want to display, it will create <strong><em>total number of posts / article per page</em></strong> pages on the home page. They will look identical to the index page and these pages will be created in <mark>output/pages</mark> folder.</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Pagination module</span>
<span class="k">def</span> <span class="nf">pagination</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">Namespace</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>

    <span class="c1"># Number of pages (for pagination)</span>
    <span class="n">num_pages</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">total_posts</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">posts_per_page</span><span class="p">)</span>

    <span class="c1"># Create a page directory, if it doesn&#39;t exist</span>
    <span class="n">create_directory</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">main_pages_path</span><span class="p">)</span> 

    <span class="k">for</span> <span class="n">pagenum</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="c1"># This will contain metadata of every x number of posts per page</span>
        <span class="n">page_metadata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">curr_page</span> <span class="o">=</span> <span class="n">pagenum</span><span class="o">+</span><span class="mi">1</span>

        <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;output/index.html&quot;</span> 
        <span class="k">else</span><span class="p">:</span>
            <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;output/pages/</span><span class="si">{page}</span><span class="s2">/index.html&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="n">curr_page</span><span class="p">)</span>

        <span class="n">create_directory</span><span class="p">(</span><span class="n">page_path</span><span class="p">)</span>

        <span class="c1"># Internal counter to keep track of posts per page</span>
        <span class="n">posts_counter</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">curr_posts_index</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">posts_metadata</span><span class="p">)):</span>
            <span class="n">page_metadata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">posts_metadata</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
            <span class="n">posts_counter</span> <span class="o">=</span> <span class="n">posts_counter</span><span class="o">+</span><span class="mi">1</span>

            <span class="c1"># If it reached it&#39;s limit, break</span>
            <span class="k">if</span> <span class="n">posts_counter</span> <span class="o">==</span> <span class="n">x</span><span class="o">.</span><span class="n">posts_per_page</span><span class="p">:</span>
                <span class="n">x</span><span class="o">.</span><span class="n">curr_posts_index</span> <span class="o">=</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span>
                <span class="k">break</span>

        <span class="c1"># Create links for previous and next pages</span>
        <span class="n">prev_page</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">curr_page</span><span class="o">-</span><span class="mi">1</span>
        <span class="n">next_page</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span> <span class="k">else</span> <span class="n">curr_page</span><span class="o">+</span><span class="mi">1</span>

        <span class="c1"># Render the page</span>
        <span class="n">html_content</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
            <span class="n">posts</span><span class="o">=</span><span class="n">page_metadata</span><span class="p">,</span> 
            <span class="n">curr</span><span class="o">=</span><span class="n">curr_page</span><span class="p">,</span>
            <span class="n">prev</span><span class="o">=</span><span class="n">prev_page</span><span class="p">,</span> 
            <span class="nb">next</span><span class="o">=</span><span class="n">next_page</span><span class="p">,</span>
            <span class="n">total</span><span class="o">=</span><span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="n">write_to_file</span><span class="p">(</span><span class="n">page_path</span><span class="p">,</span> <span class="n">html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</code></pre></div>

<h4><a id="stub-6"></a> Generate blog</h4>

<p>This is the main function that will generate the entire blog including all of the article pages.</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Generate blog -- Main function</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
    <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;articles&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">:</span>
        <span class="n">POSTS</span> <span class="o">=</span> <span class="n">get_markdown_files</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">section</span> <span class="o">==</span> <span class="s2">&quot;articles&quot;</span><span class="p">:</span>
            <span class="n">posts_template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;article.html&#39;</span><span class="p">)</span>
            <span class="n">index</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">articles</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">posts_template</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s2">&quot;This section doesn&#39;t exist.&quot;</span>
</code></pre></div>

<p>Take a look at the source code for both <mark>ssglib.py</mark> and <mark>ssg.py</mark> and feel free to tinker around with it.</p>

<p><strong>Source code for</strong> <mark>ssglib.py</mark>:</p>

<div class="codehilite"><pre><span></span><code><span class="ch">#!usr/bin/python</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">PackageLoader</span>
<span class="kn">from</span> <span class="nn">markdown2</span> <span class="kn">import</span> <span class="n">markdown</span>
<span class="kn">from</span> <span class="nn">argparse</span> <span class="kn">import</span> <span class="n">Namespace</span>

<span class="c1"># Jinja2 Environment</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">loader</span><span class="o">=</span><span class="n">PackageLoader</span><span class="p">(</span><span class="s1">&#39;ssg&#39;</span><span class="p">,</span><span class="s1">&#39;templates&#39;</span><span class="p">))</span>

<span class="c1"># Write to file</span>
<span class="k">def</span> <span class="nf">write_to_file</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Create directory</span>
<span class="k">def</span> <span class="nf">create_directory</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>

<span class="c1"># Get Markdown files from content directory</span>
<span class="k">def</span> <span class="nf">get_markdown_files</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
    <span class="n">POSTS</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;content/&#39;</span>

    <span class="k">for</span> <span class="n">md_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">md_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">md_file</span><span class="p">)</span>

        <span class="c1"># if it&#39;s not a directory, read it</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">md_file_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">md_file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">POSTS</span><span class="p">[</span><span class="n">md_file</span><span class="p">]</span> <span class="o">=</span> <span class="n">markdown</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">extras</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">POSTS</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Collect metadata of all the posts</span>
<span class="sd">for home page and sort them </span>
<span class="sd">in reversed order</span>

<span class="sd">@param: </span>
<span class="sd">    POSTS =&gt; Dictionary</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">def</span> <span class="nf">get_posts_metadata</span><span class="p">(</span><span class="n">POSTS</span><span class="p">):</span>
    <span class="n">posts_metadata</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">POSTS</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">posts_metadata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">posts_metadata</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    @params:</span>
<span class="sd">    POSTS =&gt; Dictionary</span>
<span class="sd">    template =&gt; jinja template</span>
<span class="sd">    isPaginate =&gt; boolean to enable pagination</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">isPaginate</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

    <span class="n">posts_metadata</span> <span class="o">=</span> <span class="n">get_posts_metadata</span><span class="p">(</span><span class="n">POSTS</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">isPaginate</span><span class="p">:</span>
        <span class="n">template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;index-alt.html&#39;</span><span class="p">)</span>
        <span class="n">html_content</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">posts</span><span class="o">=</span><span class="n">posts_metadata</span><span class="p">)</span>
        <span class="n">index_path</span> <span class="o">=</span> <span class="s1">&#39;output/index.html&#39;</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">index_path</span><span class="p">,</span> <span class="n">html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">),</span>
            <span class="s2">&quot;posts_metadata&quot;</span><span class="p">:</span> <span class="n">posts_metadata</span><span class="p">,</span>

            <span class="c1"># Keeps tracks the current post</span>
            <span class="s2">&quot;curr_posts_index&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>

            <span class="c1"># Total number of posts</span>
            <span class="s2">&quot;total_posts&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">POSTS</span><span class="p">),</span>

            <span class="c1"># Number of posts per page</span>
            <span class="s2">&quot;posts_per_page&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>

            <span class="c1"># Directory to hold the pages</span>
            <span class="s2">&quot;main_pages_path&quot;</span><span class="p">:</span> <span class="s2">&quot;output/pages/&quot;</span>
        <span class="p">}</span>

        <span class="n">pagination</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

<span class="c1"># Generate all posts</span>
<span class="k">def</span> <span class="nf">articles</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">post_template</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">POSTS</span><span class="p">:</span>
        <span class="n">post_metadata</span> <span class="o">=</span> <span class="n">POSTS</span><span class="p">[</span><span class="n">post</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span>
        <span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">POSTS</span><span class="p">[</span><span class="n">post</span><span class="p">],</span>
            <span class="s1">&#39;slug&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">],</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
            <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">],</span>
            <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span>
            <span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="n">post_html_content</span> <span class="o">=</span> <span class="n">post_template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">post</span><span class="o">=</span><span class="n">post_data</span><span class="p">)</span>
        <span class="n">post_file_path</span> <span class="o">=</span> <span class="s1">&#39;output/posts/</span><span class="si">{slug}</span><span class="s1">/index.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">slug</span><span class="o">=</span><span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">])</span>
        <span class="n">create_directory</span><span class="p">(</span><span class="n">post_file_path</span><span class="p">)</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">post_file_path</span><span class="p">,</span> <span class="n">post_html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

<span class="c1"># Generate pages</span>
<span class="k">def</span> <span class="nf">pagination</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">Namespace</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>

    <span class="c1"># Number of pages (for pagination)</span>
    <span class="n">num_pages</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">total_posts</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">posts_per_page</span><span class="p">)</span>

    <span class="c1"># Create a page directory, if it doesn&#39;t exist</span>
    <span class="n">create_directory</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">main_pages_path</span><span class="p">)</span> 

    <span class="k">for</span> <span class="n">pagenum</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="c1"># This will contain metadata of every x number of posts per page</span>
        <span class="n">page_metadata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">curr_page</span> <span class="o">=</span> <span class="n">pagenum</span><span class="o">+</span><span class="mi">1</span>

        <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;output/index.html&quot;</span> 
        <span class="k">else</span><span class="p">:</span>
            <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;output/pages/</span><span class="si">{page}</span><span class="s2">/index.html&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="n">curr_page</span><span class="p">)</span>

        <span class="n">create_directory</span><span class="p">(</span><span class="n">page_path</span><span class="p">)</span>

        <span class="c1"># Internal counter to keep track of posts per page</span>
        <span class="n">posts_counter</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">curr_posts_index</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">posts_metadata</span><span class="p">)):</span>
            <span class="n">page_metadata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">posts_metadata</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
            <span class="n">posts_counter</span> <span class="o">=</span> <span class="n">posts_counter</span><span class="o">+</span><span class="mi">1</span>

            <span class="c1"># If it reached it&#39;s limit, break</span>
            <span class="k">if</span> <span class="n">posts_counter</span> <span class="o">==</span> <span class="n">x</span><span class="o">.</span><span class="n">posts_per_page</span><span class="p">:</span>
                <span class="n">x</span><span class="o">.</span><span class="n">curr_posts_index</span> <span class="o">=</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span>
                <span class="k">break</span>

        <span class="c1"># Create links for previous and next pages</span>
        <span class="n">prev_page</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">curr_page</span><span class="o">-</span><span class="mi">1</span>
        <span class="n">next_page</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span> <span class="k">else</span> <span class="n">curr_page</span><span class="o">+</span><span class="mi">1</span>

        <span class="c1"># Render the page</span>
        <span class="n">html_content</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
            <span class="n">posts</span><span class="o">=</span><span class="n">page_metadata</span><span class="p">,</span> 
            <span class="n">curr</span><span class="o">=</span><span class="n">curr_page</span><span class="p">,</span>
            <span class="n">prev</span><span class="o">=</span><span class="n">prev_page</span><span class="p">,</span> 
            <span class="nb">next</span><span class="o">=</span><span class="n">next_page</span><span class="p">,</span>
            <span class="n">total</span><span class="o">=</span><span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">page_path</span><span class="p">,</span> <span class="n">html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

<span class="c1"># Generate blog -- Main function</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
    <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;articles&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">:</span>
        <span class="n">POSTS</span> <span class="o">=</span> <span class="n">get_markdown_files</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">section</span> <span class="o">==</span> <span class="s2">&quot;articles&quot;</span><span class="p">:</span>
            <span class="n">posts_template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;article.html&#39;</span><span class="p">)</span>
            <span class="n">index</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">articles</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">posts_template</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s2">&quot;This section doesn&#39;t exist.&quot;</span>
</code></pre></div>

<p><strong>Source code for</strong> <mark>ssglib.py</mark></p>

<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">ssglib</span>
<span class="kn">from</span> <span class="nn">ssglib</span> <span class="kn">import</span> <span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="n">random</span><span class="p">,</span> <span class="n">sys</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> 
<span class="n">Environment</span><span class="p">,</span> <span class="n">PackageLoader</span><span class="p">,</span> <span class="n">markdown</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">ssglib</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s2">&quot;Enter section name you want to generate.&quot;</span>
</code></pre></div>

<p>To generate your blog, type the following in your command-line:</p>

<div class="codehilite"><pre><span></span><code>python ssg.py articles
</code></pre></div>

<p>Make sure you have a local HTTP server running on your computer, if you don't install this using NPM on your command-line:</p>

<div class="codehilite"><pre><span></span><code>npm i live-server
</code></pre></div>

<p>Alright, your blog is generated and now, it's time to launch it to the internet!</p>

<h3>Deploy project on Netlify</h3>

<p>As I had mentioned in the previous article, I'm currently hosting my blog on Netlify. If you want to know more about it, <a href="/posts/migrating-to-netlify">click here</a>.</p>

<p>Let's go through the steps to deploying your blog:</p>

<h4>1. Create a GitHub repository</h4>

<p>If you have a GitHub account, continue reading. If not, <a href="https://github.com">go here</a>.</p>

<p>Create a repository with any name you like and push all your files into the repository.</p>

<h4>2. Connect to Netlify</h4>

<p>Create an account on Netlify.com and then connect to your GitHub account. After that, you have to select the repository that has your static files (Not the python code).</p>

<h4>3. Sit and Relax</h4>

<p>At this stage, your blog will be deployed automatically and you'll be given a unique URL to view your website.</p>

<p>If you have a custom domain, I suggest you follow the instructions and make the necessary changes in the <mark>CNAME</mark> and <mark>A</mark> records.</p>

<p>Don't worry about the SSL certificate, it does take some time to activate, it took me like 7-8 hours to get it working.</p>

<h2>Conclusion</h2>

<p>If you've completed this tutorial, give a yourself a pat in the back because now you know how static site generators work and you've built and hosted your own blog on the internet.</p>

<p>Hope you liked reading this article and please share it to others too!</p>

<p>Stay tuned for more!</p>

	</div>
	<div class="article-footer">
		<time>October 27th, 2019</time>
		<ul class="tags">
			
			<li>
				<a href="/category/tutorial/">
					Tutorial
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/migrating-to-netlify">Migrating to Netlify</a></h1>
		<p class="description">My thoughts on why I made the switch and how it improves my workflow.</p>
	</div>
	<div class="article-body">
		<p>When I converted my website to a static site using a custom-built static site generator using Python, I came across topics like <strong><em>"Hosting your website on GitHub Pages"</em></strong>. At the time, I thought that I didn't really need it because my website was hosted on <a href="https://www.hostinger.in">Hostinger</a> and it pretty much had everything that I needed until it started to get on my nerves.</p>

<p>Recently, my blog had been facing a lot of issues such as my website would face random downtime, hosting prices wasn't consistent and the FTP service for it was really annoying.</p>

<p>So, I decided that I need to find a better hosting service for my blog.</p>

<h2>Exploring GitHub Pages</h2>

<p>Setting up your website was pretty easy using GitHub Pages, all you have to do was create a repository named <mark>websitename.github.io</mark> and you're done.</p>

<p>Plus, unlike other hosting services, GitHub Pages hosts your website for free. That sounded like really amazing and it has really good security, caching and speed too.</p>

<p>However, it was my first choice and like every other free hosting services, it does come with a few drawbacks that didn't fit my requirements. GitHub Pages offers a bandwidth limit of <strong><em>1GB</em></strong> and it didn't have good custom domain support. Also, I read that it had weird caching issues once you commit your changes to your repository.</p>

<h2>Here comes, Netlify!</h2>

<p>When I discovered Netlify, I was happy because it had free hosting, good custom domain support and a <strong><em>100GB</em></strong> soft bandwidth, which is really fitting my requirements.</p>

<p>According to Netlify:</p>

<blockquote>
  <p>Make your site or web-app many times faster by bringing it closer to your users.</p>
</blockquote>

<p>The cool thing is that your website is not only pushed to a single server but to a global network of CDN nodes that can handle operations like automatic caching, smart rewrite and redirect rules and yes, blazing, fast loading speeds.</p>

<p>Hosting your website on Netlify is simple as few clicks, all you have to do is upload your website on a Git repository then connect it to Netlify and it will deploy your website in less than 5 minutes.</p>

<p>Updating my blog is easier now as now I just have to push my new commits to my GitHub repo and Netlify would automatically deploy it. Goodbye, FTP!</p>

<h2>Configuring HTTPS and custom domain settings</h2>

<p>Since I have a custom domain, I configured my domain to point to Netlify's load balancer IP address by changing the <mark>A</mark> and <mark>CNAME</mark> records in the DNS Zone editor. The HTTPS/SSL part was a bit annoying and it took some time, like 5-6 hours, but apart from that, it was a great experience in migrating to Netlify.</p>

<h2>Conclusion</h2>

<p>In short, my blog's static files are hosted on GitHub and automatically deployed on Netlify for free. I do have some future plans, like trying to roll out a commenting engine and light/dark themes for the blog.</p>

<p>Hope you liked reading this article!</p>

<p>Stay tuned!</p>

	</div>
	<div class="article-footer">
		<time>September 14th, 2019</time>
		<ul class="tags">
			
			<li>
				<a href="/category/update/">
					Update
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
					
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/minesweeper-clone">Minesweeper Clone</a></h1>
		<p class="description">Wrote an old classic puzzle game using Javascript.</p>
	</div>
	<div class="article-body">
		<iframe src="/static/projects/minesweeper" width='500' height='590'></iframe>

<p>Before you read this article, play with the above game. The rule is simple, reveal one cell at a time by clicking on them, If the cell you've clicked on is clear, you'll see the number of mines that's adjacent to it. Else, if it's a mine, then all mines will explode and you lose the game. Reload the game by clicking the <strong><em>Reset</em></strong> button.</p>

<p>The source code of the game can be found <a href="https://github.com/megacolorboy/BlogProjects/tree/master/minesweeper">over here</a>.</p>

<h2>Background</h2>

<p>It's a classical puzzle game that gained immense popularity when it came along with Windows 3.1 OS. To be honest, I never really had any experience playing this game until a few days ago, I had a sudden curiosity as to how it works. I studied it's game mechanics on Wikipedia and it turned to be simple enough to write a clone in Javascript.</p>

<h2>Game mechanics</h2>

<p>What makes it interesting to play is it's simplicity in which all that matters is that you shouldn't click the cell that goes "KABOOM!".</p>

<p>Here are some of the game mechanics:</p>

<ul>
<li><a href="#generate-cells">Generate cells</a></li>
<li><a href="#place-mines">Placing the mines</a></li>
<li><a href="#reveal-mines">Reveal the mines</a></li>
<li><a href="#scan-mines">Scan for mines</a></li>
<li><a href="#level-complete">Level completion</a></li>
</ul>

<h3><a id="generate-cells"></a> Generate cells</h3>

<p>Generating the grid is pretty much straightforward. Each cell will have an attribute named <mark>data-mine</mark> with a boolean value of <mark>true</mark> or <mark>false</mark>.</p>

<div class="codehilite"><pre><span></span><code><span class="c1">//Generate minesweeper grid</span>
<span class="kd">const</span> <span class="nx">generateGrid</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">allowClick</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">grid</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">size</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">row</span> <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">insertRow</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">j</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="nx">size</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">cell</span> <span class="o">=</span> <span class="nx">row</span><span class="p">.</span><span class="nx">insertCell</span><span class="p">(</span><span class="nx">j</span><span class="p">);</span>
            <span class="nx">cell</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span><span class="nx">clickCell</span><span class="p">(</span><span class="k">this</span><span class="p">);}</span>
            <span class="kd">let</span> <span class="nx">mine</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createAttribute</span><span class="p">(</span><span class="s2">&quot;data-mine&quot;</span><span class="p">);</span>
            <span class="nx">mine</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span><span class="p">;</span>
            <span class="nx">cell</span><span class="p">.</span><span class="nx">setAttributeNode</span><span class="p">(</span><span class="nx">mine</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">setMines</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

<h3><a id="place-mines"></a> Placing the mines</h3>

<p>After the grid is generated, a mine will be added to each random cell.</p>

<div class="codehilite"><pre><span></span><code><span class="c1">//Set mines</span>
<span class="kd">const</span> <span class="nx">setMines</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">size</span><span class="o">*</span><span class="mf">2</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">r</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">size</span><span class="p">);</span>
        <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">size</span><span class="p">);</span>
        <span class="kd">let</span> <span class="nx">cell</span> <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">rows</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">cells</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span>
        <span class="nx">cell</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&quot;data-mine&quot;</span><span class="p">,</span> <span class="s2">&quot;true&quot;</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">testMode</span><span class="p">){</span><span class="nx">cell</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&amp;#x1f4a3;&quot;</span><span class="p">;}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3><a id="reveal-mines"></a> Reveal the mines</h3>

<p>If you've clicked on a mine, every cell that has a mine will be exposed and then it's game over.</p>

<div class="codehilite"><pre><span></span><code><span class="c1">//Reveal mines</span>
<span class="kd">const</span> <span class="nx">revealMines</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">size</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">j</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="nx">size</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">cell</span> <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">rows</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">cells</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">cell</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;data-mine&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;true&quot;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">cell</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s2">&quot;mine&quot;</span><span class="p">;</span>
                <span class="nx">cell</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&quot;&amp;#x1f4a3;&quot;</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3><a id="scan-mines"></a> Scan for mines</h3>

<p>When you click on a tile, there are 2 possibilities i.e. either the cell is a mine or not.</p>

<p>If it's a mine, we know what happens, it's self explanatory. If it's not a mine, what happens then? Well, it'll start scanning for mines that are adjacent to it in all eight directions:</p>

<table class="table">
    <tr>
        <th>Direction</th>
        <th>Coordinates</th>
    </tr>
    <tr>
        <td>Top</td><td>(row - 1, col)</td>
    </tr>
    <tr>
        <td>Bottom</td><td>(row + 1, col)</td>
    </tr>
    <tr>
        <td>Left</td><td>(row, col - 1)</td>
    </tr>
    <tr>
        <td>Right</td><td>(row, col + 1)</td>
    </tr>
    <tr>
        <td>Top Left</td><td>(row - 1, col - 1)</td>
    </tr>
    <tr>
        <td>Top Right</td><td>(row - 1, col + 1)</td>
    </tr>
    <tr>
        <td>Bottom Left</td><td>(row + 1, col - 1)</td>
    </tr>
    <tr>
        <td>Bottom Right</td><td>(row + 1, col + 1)</td>
    </tr>
</table>

<p>If there aren't any mines adjacent to it, it'll reveal all adjacent cells via recursion.
    <div class="codehilite"><pre><span></span><code><span class="c1">//Click a cell</span>
    <span class="kd">const</span> <span class="nx">clickCell</span> <span class="o">=</span> <span class="p">(</span><span class="nx">cell</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">allowClick</span> <span class="o">!=</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">//If it&#39;s a mine, game over</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">cell</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;data-mine&quot;</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;true&quot;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;game over&quot;</span><span class="p">);</span>
                <span class="nx">revealMines</span><span class="p">();</span>
                <span class="nx">allowClick</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="c1">//If it&#39;s not a mine, reveal the mines</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="c1">//Mark it as &quot;clicked&quot;</span>
                <span class="nx">cell</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s2">&quot;clicked&quot;</span><span class="p">;</span>
                <span class="nx">scanForMines</span><span class="p">(</span><span class="nx">cell</span><span class="p">);</span>
                <span class="nx">checkGameStatus</span><span class="p">();</span>
            <span class="p">}</span> <br />
        <span class="p">}</span>
    <span class="p">}</span>
 <br />
    <span class="c1">//Scan for mines that are adjacent to the cell</span>
    <span class="kd">const</span> <span class="nx">scanForMines</span> <span class="o">=</span> <span class="p">(</span><span class="nx">cell</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">rowPos</span> <span class="o">=</span> <span class="nx">cell</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">rowIndex</span><span class="p">;</span>
        <span class="kd">let</span> <span class="nx">colPos</span> <span class="o">=</span> <span class="nx">cell</span><span class="p">.</span><span class="nx">cellIndex</span><span class="p">;</span>
        <span class="kd">let</span> <span class="nx">mineCount</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
 <br />
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">rowPos</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">rowPos</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="nx">size</span><span class="o">-</span><span class="mf">1</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">j</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">colPos</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span> <span class="nx">j</span><span class="o">&lt;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">colPos</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="nx">size</span><span class="o">-</span><span class="mf">1</span><span class="p">);</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">let</span> <span class="nx">adjacentCell</span> <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">rows</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">cells</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">adjacentCell</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;data-mine&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">mineCount</span><span class="o">++</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
 <br />
        <span class="nx">cell</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">mineCount</span> <span class="o">&gt;</span> <span class="mf">0</span> <span class="o">?</span> <span class="nx">mineCount</span> <span class="o">:</span> <span class="s2">&quot; &quot;</span><span class="p">;</span>
 <br />
        <span class="c1">//If zero mines, then reveal all adjacent cells</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">mineCount</span> <span class="o">==</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">rowPos</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">rowPos</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="nx">size</span><span class="o">-</span><span class="mf">1</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">j</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">colPos</span><span class="o">-</span><span class="mf">1</span><span class="p">,</span> <span class="mf">0</span><span class="p">);</span> <span class="nx">j</span><span class="o">&lt;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">colPos</span><span class="o">+</span><span class="mf">1</span><span class="p">,</span> <span class="nx">size</span><span class="o">-</span><span class="mf">1</span><span class="p">);</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">let</span> <span class="nx">adjacentCell</span> <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">rows</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">cells</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
                    <span class="k">if</span><span class="p">(</span><span class="nx">adjacentCell</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">clickCell</span><span class="p">(</span><span class="nx">adjacentCell</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre></div></p>

<h3><a id="level-complete"></a> Level completion</h3>

<p>If the player completed the game without clicking on any mine, the level is complete.
    <div class="codehilite"><pre><span></span><code><span class="c1">//Check game status</span>
    <span class="kd">const</span> <span class="nx">checkGameStatus</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">levelComplete</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">size</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="nx">size</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">cell</span> <span class="o">=</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">rows</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">cells</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
                <span class="k">if</span><span class="p">((</span><span class="nx">cell</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;data-mine&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;false&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">cell</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="p">{</span>
                    <span class="nx">levelComplete</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
 <br />
        <span class="k">if</span><span class="p">(</span><span class="nx">levelComplete</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Congratulations, you won!&quot;</span><span class="p">);</span>
            <span class="nx">revealMines</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre></div></p>

<h2>Conclusion</h2>

<p>Well, that's about it. I had fun writing this game. Do you want me to build more games like this? Send me an email about it and I'll see what I can do from my end.</p>

<p>Have fun playing the game and oh, don't blow yourself up! &#x1F61C;</p>

<p>Hope you liked reading this article!</p>

<p>Stay tuned for more!</p>

	</div>
	<div class="article-footer">
		<time>September 6th, 2019</time>
		<ul class="tags">
			
			<li>
				<a href="/category/personal-challenge/">
					Personal Challenge
				</a>
			</li>
			
		</ul>
	</div>
</div>

				
			</div>
			
<div class="pagination">
	
		
		<a href="/writings/pages/2">&laquo;</a>
			
	

	
		
			<a class="" href="/writings/">1</a>
		
	
		
			<a class="" href="/writings/pages/2">2</a>
		
	
		
			<a class="active" href="/writings/pages/3">3</a>
		
	
		
			<a class="" href="/writings/pages/4">4</a>
		
	
		
			<a class="" href="/writings/pages/5">5</a>
		
	
		
			<a class="active" href="/writings/pages/3">...</a>
		
	
		
			<a class="" href="/writings/pages/8">8</a>
		
	

	
		<a href="/writings/pages/4">&raquo;</a>
	
</div>

		</section>
		<section id="secondary">
			<div class="sidebar">
				<div class="author-intro">
	<h3>Writings</h3>
	<p>Sometimes, I write stuff about computers, math, technology & design.</p>
	<ul class="sitemap">
		<li><a class="back" href="/"><span>👈</span> Check out more articles!</a></li>
	</ul>
</div>
				<!-- Tags -->
<div>
	<h3>Categories</h3>
	<ul class="tags">
		
		<li>
			<a href="/category/linux/">
				Linux
				<span class="count">19</span>
			</a>
		</li>
		
		<li>
			<a href="/category/laravel/">
				Laravel
				<span class="count">17</span>
			</a>
		</li>
		
		<li>
			<a href="/category/devops/">
				DevOps
				<span class="count">13</span>
			</a>
		</li>
		
		<li>
			<a href="/category/php/">
				PHP
				<span class="count">11</span>
			</a>
		</li>
		
		<li>
			<a href="/category/javascript/">
				JavaScript
				<span class="count">11</span>
			</a>
		</li>
		
		<li>
			<a href="/category/terminal/">
				Terminal
				<span class="count">11</span>
			</a>
		</li>
		
		<li>
			<a href="/category/algorithms/">
				Algorithms
				<span class="count">11</span>
			</a>
		</li>
		
		<li>
			<a href="/category/cryptography/">
				Cryptography
				<span class="count">11</span>
			</a>
		</li>
		
		<li>
			<a href="/category/git/">
				Git
				<span class="count">10</span>
			</a>
		</li>
		
		<li>
			<a href="/category/programming/">
				Programming
				<span class="count">9</span>
			</a>
		</li>
		
		<li>
			<a href="/category/vim/">
				VIM
				<span class="count">8</span>
			</a>
		</li>
		
		<li>
			<a href="/category/unix/">
				UNIX
				<span class="count">8</span>
			</a>
		</li>
		
		<li>
			<a href="/category/tutorial/">
				Tutorial
				<span class="count">6</span>
			</a>
		</li>
		
		<li>
			<a href="/category/update/">
				Update
				<span class="count">6</span>
			</a>
		</li>
		
		<li>
			<a href="/category/mysql/">
				MySQL
				<span class="count">6</span>
			</a>
		</li>
		
		<li>
			<a href="/category/essay/">
				Essay
				<span class="count">6</span>
			</a>
		</li>
		
		<li>
			<a href="/category/productivity/">
				Productivity
				<span class="count">5</span>
			</a>
		</li>
		
		<li>
			<a href="/category/blogmarks/">
				Blogmarks
				<span class="count">5</span>
			</a>
		</li>
		
		<li>
			<a href="/category/apache/">
				Apache
				<span class="count">5</span>
			</a>
		</li>
		
		<li>
			<a href="/category/personal-challenge/">
				Personal Challenge
				<span class="count">5</span>
			</a>
		</li>
		
		<li>
			<a href="/category/arcade-challenge/">
				Arcade Challenge
				<span class="count">4</span>
			</a>
		</li>
		
		<li>
			<a href="/category/regular-expressions/">
				Regular Expressions
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/data-structures/">
				Data Structures
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/user-interface/">
				User Interface
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/user-experience/">
				User Experience
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/general/">
				General
				<span class="count">3</span>
			</a>
		</li>
		
		<li>
			<a href="/category/docker/">
				Docker
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/aws/">
				AWS
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/generative-art/">
				Generative Art
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/css/">
				CSS
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/wget/">
				wget
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/vscode/">
				VSCode
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/email/">
				Email
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/bash/">
				Bash
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/wamp/">
				WAMP
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/python/">
				Python
				<span class="count">2</span>
			</a>
		</li>
		
		<li>
			<a href="/category/tech/">
				Tech
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/learning/">
				Learning
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/ubuntu/">
				Ubuntu
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/ssh/">
				SSH
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/databases/">
				Databases
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/tooling/">
				Tooling
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/graphics/">
				Graphics
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/selfreflection/">
				Self-reflection
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/security/">
				Security
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/cpanel/">
				cPanel
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/introduction/">
				Introduction
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/refactoring/">
				Refactoring
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/scss/">
				SCSS
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/xfce/">
				XFCE
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/chrome-devtools/">
				Chrome DevTools
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/go/">
				Go
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/ssl/">
				SSL
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/jquery/">
				jQuery
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/art/">
				Art
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/tips/">
				Tips
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/review/">
				Review
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/artificial-intelligence/">
				Artificial Intelligence
				<span class="count">1</span>
			</a>
		</li>
		
		<li>
			<a href="/category/mathematics/">
				Mathematics
				<span class="count">1</span>
			</a>
		</li>
		
	</ul>
</div>
<!-- Tags -->
			</div>
		</section>
	</div>
</main>

<footer>
    <span class="copyright">&copy; Abdush Shakoor</span>
</footer>

<script src="/static/vendor/jquery/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script src="/static/js/art.js"></script>

<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script defer id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98290003-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98290003-2');
</script>

<!-- <script>
    const darkModeButton = document.createElement('button');
    const syntaxHighlightSource = document.getElementById('syntaxHighlight');
    const menuList = document.querySelector('.menu');
    const themeSettings = {
        "dark": {
            "icon": '<i class="ph-moon-fill"></i>',
            "hljs": "/static/vendor/hljs/css/github-dark.css",
        },
        "light": {
            "icon": '<i class="ph-sun-fill"></i>',
            "hljs": "/static/vendor/hljs/css/github.min.css",
        },
    }

    function highlightMenuLink() {
        var currentURI = window.location.href;
        currentURI = currentURI.replace(window.location.protocol + "//", "");
        var currentPage	 = currentURI.split('/')[1];

        if(currentPage) {
            $('a[href="/' + currentPage + '"').parent().addClass('active');
        }
    }
    
    function initThemeSwitcher() {
        darkModeButton.innerHTML = themeSettings.light.icon;
        darkModeButton.classList.add('darkModeButton');
        
        darkModeButton.addEventListener('click', function(){
            switch(document.documentElement.getAttribute('data-theme')) {
                case 'dark':
                    lightMode();
                    break;

                case 'light':
                default:
                    darkMode();
                    break;
            }
        });
        
        var newItem = document.createElement('li');
        newItem.appendChild(darkModeButton);
        menuList.insertBefore(newItem, menuList.childNodes[menuList.childNodes - 1]);
    }
    

    // Settings for dark mode
    function darkMode() {
        darkModeButton.innerHTML = themeSettings.dark.icon;
        document.documentElement.setAttribute('data-theme', 'dark');
        syntaxHighlightSource.setAttribute('href', themeSettings.dark.hljs);
        localStorage.setItem("theme", "dark");
    }

    // Settings for light mode
    function lightMode() {
        darkModeButton.innerHTML = themeSettings.light.icon;
        document.documentElement.setAttribute('data-theme', '');
        syntaxHighlightSource.setAttribute('href', themeSettings.light.hljs);
        localStorage.setItem("theme", "");
    }

    function checkTheme() {
        const localStorageTheme = localStorage.getItem("theme");
        switch(localStorageTheme) {
            case "dark":
                darkMode();
                break;
            
            default:
                lightMode();
                break;
        }
    }

    // Check if the theme is stored in session
    window.onload = function() {
        initThemeSwitcher();
        checkTheme();
        highlightMenuLink();
    }

    //  open and close nav 
    $('#navbar-toggle').click(function() {
      $('nav ul').slideToggle();
    });

    // Hamburger toggle
    $('#navbar-toggle').on('click', function() {
      this.classList.toggle('active');
    });

    // Click outside the dropdown will remove the dropdown class
    $('html').click(function() {
      $('.navbar-dropdown').hide();
    });
</script> -->
</body>
</html>