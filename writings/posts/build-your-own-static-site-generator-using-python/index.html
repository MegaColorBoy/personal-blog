<!DOCTYPE html>
<html data-theme="" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Abdush Shakoor">
	
	<meta name="description" content="Are you curious enough to build your own Static Site Generator? This article is for you..">
	<meta name="og:title" content="Build your own Static Site Generator using Python | Abdush Shakoor's Weblog" />
	<meta name="og:type" content="article" />
	<meta name="og:url" content="writings/posts/build-your-own-static-site-generator-using-python" />
	<meta name="og:description" content="Are you curious enough to build your own Static Site Generator? This article is for you." />
	<meta name="og:site_name" content="Abdush Shakoor's Weblog | Abdush Shakoor's Weblog" />
	
	<meta name="robots" content="follow">
	<title>Build your own Static Site Generator using Python | Abdush Shakoor's Weblog </title>
	<link rel="stylesheet" href="/static/css/main.css" type="text/css">
	<link rel="stylesheet" href="/static/css/pygments.css" type="text/css">

	<link rel="apple-touch-icon" sizes="57x57" href="/static/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/static/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/static/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/static/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/static/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/static/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/static/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/static/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/static/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/static/favicon/png" sizes="192x192"  href="/static/favicon/android-icon-192x192.png">
<link rel="icon" type="image/static/favicon/png" sizes="32x32" href="/static/favicon/favicon-32x32.png">
<link rel="icon" type="image/static/favicon/png" sizes="96x96" href="/static/favicon/favicon-96x96.png">
<link rel="icon" type="image/static/favicon/png" sizes="16x16" href="/static/favicon/favicon-16x16.png">
<link rel="manifest" href="/static/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/static/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
	
	<!-- <script src="https://unpkg.com/phosphor-icons"></script> -->
	<!-- <script>
		if(localStorage.theme){
			document.documentElement.setAttribute('data-theme', localStorage.getItem("theme"));
		}
	</script> -->
</head>
<body class="">
	<!-- Navbar -->
	<header class="header">
	<!-- Logo with Author Name -->
	<div class="author">
		<a href="/">
			<img src="/static/logo.png" alt="megacolorboy">
			<div class="name">
				<h1>Abdush Shakoor's Weblog</h1>
				<p>Writings, experiments & ideas.</p>
			</div>
		</a>
	</div>
	<!-- Logo with Author Name -->
	<nav>
		<ul class="menu">
			
				<li><a href="/about">About</a></li>
			
				<li><a href="/archive">Archive</a></li>
			
				<li><a href="/resume">Resume</a></li>
			
		</ul>
	</nav>	
</header>

<main>
	<div class="two-col-grid">
		<section id="primary">
			<div class="articles">
				
<div class="article">
	<div class="article-header">
		<h1 class="heading"><a href="/writings/posts/build-your-own-static-site-generator-using-python">Build your own Static Site Generator using Python</a></h1>
		<p class="description">Are you curious enough to build your own Static Site Generator? This article is for you.</p>
	</div>
	<div class="article-body">
		<p>If you are curious about web development, you must have came across names like Jekyll, Hugo, Gatsby and more. These names that I mentioned are called Static Site generators. In fact, this website that you're on, is powered by a static site generator and I really like it so far.</p>

<p>In today's article, you'll learn how to build your own Static Site Generator using Python, create a blog and host it on Netlify for free. Please note, that this is a basic tutorial that would show the bare-metals of this generator.</p>

<p>These are the pre-requisities to this tutorial:</p>

<ul>
<li>Basic understanding of Python, Git, HTML and Markdown</li>
<li>Basic knowledge of file I/O</li>
<li>Know-how on using the command-line</li>
</ul>

<p>If you don't know them, it's okay, you can still do your own research on Google and learn on-the-go!</p>

<p>Before we jump in, let's see why is it the latest craze!</p>

<h2>Why is it popular?</h2>

<p>Take a blog, it's a dynamic web application that consists of a lot of sections like blog posts, archives and categories. Each time, a user visits a blog post, it sends a GET request to the server, fetches the data, then generates a webpage along with the fetched data on-the-fly. However, with a static site generator, you only serve pre-rendered files, so you don't have to generate or create anything on-the-fly, it's already there!</p>

<p>Apart from that, applications like a blog are usually database-dependant and you need to host it somewhere with a price. Not only that, but it does have security risks. With static site generators, you write your content on a markdown file and then convert it into static HTML files, which can then be used to host your website on services like GitHub Pages or Netlify for free and you don't have to worry about any security issues.</p>

<h2>What are the functionalities?</h2>

<p>These are the functionalities that we'd require in a blog:</p>

<ul>
<li>Display all blog articles</li>
<li>Pagination module</li>
<li>A page for each article</li>
</ul>

<p>So, let's go ahead and start with building the project.</p>

<h2>Time to build it!</h2>

<p>Let's plan before we dive in straight into coding it. This is the file structure we'll be following in this tutorial:</p>

<h3>Create file structure</h3>

<p>This is the file structure we're going to follow in this tutorial, so create it before you proceed with the tutorial.</p>

<div class="codehilite"><pre><span></span><code>\blog-ssg
    \content
    \output
    \templates
    make_entry.py
    ssg.py
    ssglib.py
</code></pre></div>

<p>Next, install the following dependencies using <mark>pip</mark>:</p>

<div class="codehilite"><pre><span></span><code>pip install markdown2
pip install jinja2
</code></pre></div>

<h3>Generate markdown files</h3>

<p>Go to your <mark>make_entry.py</mark> file and copy-paste this code. This will be used to generate markdown file for you to edit instead of having to create it manually all the time.</p>

<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c1"># This is the Markdown template</span>
<span class="n">TEMPLATE</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">title: </span><span class="si">{title}</span><span class="s2"></span>
<span class="s2">date: </span><span class="si">{date}</span><span class="s2"></span>
<span class="s2">slug: </span><span class="si">{slug}</span><span class="s2"></span>
<span class="s2">category: Write category here.</span>
<span class="s2">summary: Write summary here.</span>

<span class="s2">Write content here.</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">suffix</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;th&#39;</span> <span class="k">if</span> <span class="mi">11</span><span class="o">&lt;=</span><span class="n">d</span><span class="o">&lt;=</span><span class="mi">13</span> <span class="k">else</span> <span class="p">{</span><span class="s1">&#39;1&#39;</span><span class="p">:</span><span class="s1">&#39;st&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span><span class="s1">&#39;nd&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span><span class="s1">&#39;rd&#39;</span><span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">d</span><span class="o">%</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;th&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">custom_strftime</span><span class="p">(</span><span class="nb">format</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{S}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">day</span><span class="p">)</span> <span class="o">+</span> <span class="n">suffix</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">day</span><span class="p">))</span>

<span class="c1"># Generate file number by looking at the number blog articles in the directory</span>
<span class="k">def</span> <span class="nf">gen_file_no</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">existing_files</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        If no files are found,</span>
<span class="sd">        then this is the first file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">existing_files</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Look for the biggest file number</span>
<span class="sd">        and return the bigger one</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefixes</span> <span class="o">=</span> <span class="p">[</span><span class="n">filename</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)[:</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">existing_files</span><span class="p">]</span>
    <span class="n">biggest_prefix</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">prefixes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">biggest_prefix</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

<span class="c1"># Generate slug for the blog article</span>
<span class="k">def</span> <span class="nf">gen_slug</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">title</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">isalnum</span><span class="p">()</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">title</span>

<span class="c1"># Create entry</span>
<span class="k">def</span> <span class="nf">make_entry</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">file_type</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">file_type</span> <span class="o">==</span> <span class="s2">&quot;articles&quot;</span><span class="p">:</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;content/&quot;</span> <span class="o">+</span> <span class="n">file_type</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span>

        <span class="c1"># Create folders if they didn&#39;t exist</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>

        <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>

        <span class="n">slug</span> <span class="o">=</span> <span class="n">gen_slug</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="n">file_no</span> <span class="o">=</span> <span class="n">gen_file_no</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">existing_files</span><span class="o">=</span><span class="n">glob</span><span class="p">(</span><span class="n">file_path</span> <span class="o">+</span> <span class="s2">&quot;*.md&quot;</span><span class="p">))</span>
        <span class="n">blog_file_path</span> <span class="o">=</span> <span class="n">file_path</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="si">{:0&gt;2}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">_</span><span class="si">{:0&gt;2}</span><span class="s2">_</span><span class="si">{:0&gt;2}</span><span class="s2">_</span><span class="si">{}</span><span class="s2">.md&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">file_no</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="n">slug</span><span class="p">)</span>

        <span class="n">post_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">date</span><span class="p">()),</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">post_date</span> <span class="o">=</span> <span class="n">custom_strftime</span><span class="p">(</span><span class="s1">&#39;%B </span><span class="si">{S}</span><span class="s1">, %Y&#39;</span><span class="p">,</span> <span class="n">post_date</span><span class="p">)</span>

        <span class="n">t</span> <span class="o">=</span> <span class="n">TEMPLATE</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
            <span class="n">year</span><span class="o">=</span><span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
            <span class="n">month</span><span class="o">=</span><span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">,</span>
            <span class="n">date</span><span class="o">=</span><span class="n">post_date</span><span class="p">,</span>
            <span class="n">slug</span><span class="o">=</span><span class="n">slug</span><span class="p">)</span>      

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">blog_file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">w</span><span class="p">:</span>
            <span class="n">w</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

        <span class="nb">print</span> <span class="n">blog_file_path</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">make_entry</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s2">&quot;Enter blog title and article type&quot;</span>
</code></pre></div>

<p>To create a blog entry, just type this in your terminal:</p>

<div class="codehilite"><pre><span></span><code>python make_entry.py <span class="s2">&quot;Article Name&quot;</span> articles
</code></pre></div>

<h3>Create a library</h3>

<p>This library must have the following functionalities:</p>

<ul>
<li><a href="#stub-1">Fetch content from Markdown files</a></li>
<li><a href="#stub-2">Create templates</a></li>
<li><a href="#stub-3">Generate index page</a></li>
<li><a href="#stub-4">Generate articles from Markdown to HTML</a></li>
<li><a href="#stub-5">Generate pagination module</a></li>
<li><a href="#stub-6">Generate blog</a></li>
</ul>

<p>So, create a new file named <mark>ssglib.py</mark> and let's do each of the functionality step-by-step to gain a deeper understanding of each method/function in the library.</p>

<p>Before that, add the following lines to the file:</p>

<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">PackageLoader</span>
<span class="kn">from</span> <span class="nn">markdown2</span> <span class="kn">import</span> <span class="n">markdown</span>
<span class="kn">from</span> <span class="nn">argparse</span> <span class="kn">import</span> <span class="n">Namespace</span>

<span class="c1"># Jinja2 Environment</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">loader</span><span class="o">=</span><span class="n">PackageLoader</span><span class="p">(</span><span class="s1">&#39;ssg&#39;</span><span class="p">,</span><span class="s1">&#39;templates&#39;</span><span class="p">))</span>
</code></pre></div>

<h4><a id="stub-1"></a> Fetch content from Markdown files</h4>

<p>This method will fetch content from all of the Markdown files that resides in the <mark>content/articles</mark> folder.</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Get Markdown files from content directory</span>
<span class="k">def</span> <span class="nf">get_markdown_files</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
    <span class="n">POSTS</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;content/&#39;</span>

    <span class="k">for</span> <span class="n">md_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">md_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">md_file</span><span class="p">)</span>

        <span class="c1"># if it&#39;s not a directory, read it</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">md_file_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">md_file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">POSTS</span><span class="p">[</span><span class="n">md_file</span><span class="p">]</span> <span class="o">=</span> <span class="n">markdown</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">extras</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">POSTS</span>
</code></pre></div>

<h4><a id="stub-2"></a> Create templates</h4>

<p>You'll need to create two templates, one for home page and the other is for your articles. All templates will reside in the <mark>templates</mark> folder.</p>

<p>This is the template for the home page of your blog and you can name this as <mark>index.html</mark>:</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My Blog<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">base</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/&quot;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;posts-list&quot;</span><span class="p">&gt;</span>
            {% for post in posts %}
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;posts/{{ post.slug }}/&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ post.date }} <span class="ni">&amp;mdash;</span> {{ post.title }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% endfor %}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;paginator&quot;</span><span class="p">&gt;</span>
            {% if curr == 2 %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;prev&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;prev&quot;</span><span class="p">&gt;</span>Newer<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% elif prev != 0 %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;prev&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/pages/{{prev}}&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;prev&quot;</span><span class="p">&gt;</span>Newer<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% else %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;prev inactive&quot;</span><span class="p">&gt;</span>Newer<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% endif %}

            <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{curr}} <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>of<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> {{total}}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

            {% if next != 0 %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;next&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/pages/{{next}}&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;next&quot;</span><span class="p">&gt;</span>Older<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% else %}
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;next inactive&quot;</span><span class="p">&gt;</span>Older<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% endif %}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p>This is the template for the article page and you can name this as <mark>article.html</mark>:</p>

<div class="codehilite"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>{{ post.title }}<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;author&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;Your name&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;{{ post.summary }}.&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-main&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-info&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">h5</span><span class="p">&gt;</span>{{ post.category }}<span class="p">&lt;/</span><span class="nt">h5</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ post.title }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ post.summary }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">h6</span><span class="p">&gt;</span>Your name <span class="ni">&amp;mdash;</span> {{ post.date }}<span class="p">&lt;/</span><span class="nt">h6</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>    
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-container&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;content&quot;</span><span class="p">&gt;</span>
            {{ post.content }}
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p>Though, this is just a bare-bone template, you can be creative and make your own changes to it by making it visually-appealing!</p>

<h4><a id="stub-3"></a> Generate index page</h4>

<p>This method will create your index page. The index page will contain the links for each article.</p>

<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">isPaginate</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">posts_metadata</span> <span class="o">=</span> <span class="n">get_posts_metadata</span><span class="p">(</span><span class="n">POSTS</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">isPaginate</span><span class="p">:</span>
        <span class="n">template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;index-alt.html&#39;</span><span class="p">)</span>
        <span class="n">html_content</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">posts</span><span class="o">=</span><span class="n">posts_metadata</span><span class="p">)</span>
        <span class="n">index_path</span> <span class="o">=</span> <span class="s1">&#39;output/index.html&#39;</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">index_path</span><span class="p">,</span> <span class="n">html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">),</span>
            <span class="s2">&quot;posts_metadata&quot;</span><span class="p">:</span> <span class="n">posts_metadata</span><span class="p">,</span>

            <span class="c1"># Keeps tracks the current post</span>
            <span class="s2">&quot;curr_posts_index&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>

            <span class="c1"># Total number of posts</span>
            <span class="s2">&quot;total_posts&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">POSTS</span><span class="p">),</span>

            <span class="c1"># Number of posts per page</span>
            <span class="s2">&quot;posts_per_page&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>

            <span class="c1"># Directory to hold the pages</span>
            <span class="s2">&quot;main_pages_path&quot;</span><span class="p">:</span> <span class="s2">&quot;output/pages/&quot;</span>
        <span class="p">}</span>
        <span class="n">pagination</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>

<h4><a id="stub-4"></a> Generate articles from Markdown to HTML</h4>

<p>This method will convert your Markdown content into HTML pages. One thing to note, each blog post will have it's own folder name with it's own slug and <mark>index.html</mark> file, so that it'll be easier to access the article.</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Generate all posts</span>
<span class="k">def</span> <span class="nf">articles</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">post_template</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">POSTS</span><span class="p">:</span>
        <span class="n">post_metadata</span> <span class="o">=</span> <span class="n">POSTS</span><span class="p">[</span><span class="n">post</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span>
        <span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">POSTS</span><span class="p">[</span><span class="n">post</span><span class="p">],</span>
            <span class="s1">&#39;slug&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">],</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
            <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">],</span>
            <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span>
            <span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="n">post_html_content</span> <span class="o">=</span> <span class="n">post_template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">post</span><span class="o">=</span><span class="n">post_data</span><span class="p">)</span>
        <span class="n">post_file_path</span> <span class="o">=</span> <span class="s1">&#39;output/posts/</span><span class="si">{slug}</span><span class="s1">/index.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">slug</span><span class="o">=</span><span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">])</span>
        <span class="n">create_directory</span><span class="p">(</span><span class="n">post_file_path</span><span class="p">)</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">post_file_path</span><span class="p">,</span> <span class="n">post_html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</code></pre></div>

<h4><a id="stub-5"></a> Generate pagination module</h4>

<p>Depending on the amount of blog articles you want to display, it will create <strong><em>total number of posts / article per page</em></strong> pages on the home page. They will look identical to the index page and these pages will be created in <mark>output/pages</mark> folder.</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Pagination module</span>
<span class="k">def</span> <span class="nf">pagination</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">Namespace</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>

    <span class="c1"># Number of pages (for pagination)</span>
    <span class="n">num_pages</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">total_posts</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">posts_per_page</span><span class="p">)</span>

    <span class="c1"># Create a page directory, if it doesn&#39;t exist</span>
    <span class="n">create_directory</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">main_pages_path</span><span class="p">)</span> 

    <span class="k">for</span> <span class="n">pagenum</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="c1"># This will contain metadata of every x number of posts per page</span>
        <span class="n">page_metadata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">curr_page</span> <span class="o">=</span> <span class="n">pagenum</span><span class="o">+</span><span class="mi">1</span>

        <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;output/index.html&quot;</span> 
        <span class="k">else</span><span class="p">:</span>
            <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;output/pages/</span><span class="si">{page}</span><span class="s2">/index.html&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="n">curr_page</span><span class="p">)</span>

        <span class="n">create_directory</span><span class="p">(</span><span class="n">page_path</span><span class="p">)</span>

        <span class="c1"># Internal counter to keep track of posts per page</span>
        <span class="n">posts_counter</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">curr_posts_index</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">posts_metadata</span><span class="p">)):</span>
            <span class="n">page_metadata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">posts_metadata</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
            <span class="n">posts_counter</span> <span class="o">=</span> <span class="n">posts_counter</span><span class="o">+</span><span class="mi">1</span>

            <span class="c1"># If it reached it&#39;s limit, break</span>
            <span class="k">if</span> <span class="n">posts_counter</span> <span class="o">==</span> <span class="n">x</span><span class="o">.</span><span class="n">posts_per_page</span><span class="p">:</span>
                <span class="n">x</span><span class="o">.</span><span class="n">curr_posts_index</span> <span class="o">=</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span>
                <span class="k">break</span>

        <span class="c1"># Create links for previous and next pages</span>
        <span class="n">prev_page</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">curr_page</span><span class="o">-</span><span class="mi">1</span>
        <span class="n">next_page</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span> <span class="k">else</span> <span class="n">curr_page</span><span class="o">+</span><span class="mi">1</span>

        <span class="c1"># Render the page</span>
        <span class="n">html_content</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
            <span class="n">posts</span><span class="o">=</span><span class="n">page_metadata</span><span class="p">,</span> 
            <span class="n">curr</span><span class="o">=</span><span class="n">curr_page</span><span class="p">,</span>
            <span class="n">prev</span><span class="o">=</span><span class="n">prev_page</span><span class="p">,</span> 
            <span class="nb">next</span><span class="o">=</span><span class="n">next_page</span><span class="p">,</span>
            <span class="n">total</span><span class="o">=</span><span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="n">write_to_file</span><span class="p">(</span><span class="n">page_path</span><span class="p">,</span> <span class="n">html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</code></pre></div>

<h4><a id="stub-6"></a> Generate blog</h4>

<p>This is the main function that will generate the entire blog including all of the article pages.</p>

<div class="codehilite"><pre><span></span><code><span class="c1"># Generate blog -- Main function</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
    <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;articles&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">:</span>
        <span class="n">POSTS</span> <span class="o">=</span> <span class="n">get_markdown_files</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">section</span> <span class="o">==</span> <span class="s2">&quot;articles&quot;</span><span class="p">:</span>
            <span class="n">posts_template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;article.html&#39;</span><span class="p">)</span>
            <span class="n">index</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">articles</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">posts_template</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s2">&quot;This section doesn&#39;t exist.&quot;</span>
</code></pre></div>

<p>Take a look at the source code for both <mark>ssglib.py</mark> and <mark>ssg.py</mark> and feel free to tinker around with it.</p>

<p><strong>Source code for</strong> <mark>ssglib.py</mark>:</p>

<div class="codehilite"><pre><span></span><code><span class="ch">#!usr/bin/python</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">jinja2</span> <span class="kn">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">PackageLoader</span>
<span class="kn">from</span> <span class="nn">markdown2</span> <span class="kn">import</span> <span class="n">markdown</span>
<span class="kn">from</span> <span class="nn">argparse</span> <span class="kn">import</span> <span class="n">Namespace</span>

<span class="c1"># Jinja2 Environment</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">loader</span><span class="o">=</span><span class="n">PackageLoader</span><span class="p">(</span><span class="s1">&#39;ssg&#39;</span><span class="p">,</span><span class="s1">&#39;templates&#39;</span><span class="p">))</span>

<span class="c1"># Write to file</span>
<span class="k">def</span> <span class="nf">write_to_file</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Create directory</span>
<span class="k">def</span> <span class="nf">create_directory</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>

<span class="c1"># Get Markdown files from content directory</span>
<span class="k">def</span> <span class="nf">get_markdown_files</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
    <span class="n">POSTS</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;content/&#39;</span>

    <span class="k">for</span> <span class="n">md_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
        <span class="n">md_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">md_file</span><span class="p">)</span>

        <span class="c1"># if it&#39;s not a directory, read it</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">md_file_path</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">md_file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">POSTS</span><span class="p">[</span><span class="n">md_file</span><span class="p">]</span> <span class="o">=</span> <span class="n">markdown</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">extras</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">POSTS</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Collect metadata of all the posts</span>
<span class="sd">for home page and sort them </span>
<span class="sd">in reversed order</span>

<span class="sd">@param: </span>
<span class="sd">    POSTS =&gt; Dictionary</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">def</span> <span class="nf">get_posts_metadata</span><span class="p">(</span><span class="n">POSTS</span><span class="p">):</span>
    <span class="n">posts_metadata</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">POSTS</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">posts_metadata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">posts_metadata</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    @params:</span>
<span class="sd">    POSTS =&gt; Dictionary</span>
<span class="sd">    template =&gt; jinja template</span>
<span class="sd">    isPaginate =&gt; boolean to enable pagination</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">isPaginate</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

    <span class="n">posts_metadata</span> <span class="o">=</span> <span class="n">get_posts_metadata</span><span class="p">(</span><span class="n">POSTS</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">isPaginate</span><span class="p">:</span>
        <span class="n">template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;index-alt.html&#39;</span><span class="p">)</span>
        <span class="n">html_content</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">posts</span><span class="o">=</span><span class="n">posts_metadata</span><span class="p">)</span>
        <span class="n">index_path</span> <span class="o">=</span> <span class="s1">&#39;output/index.html&#39;</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">index_path</span><span class="p">,</span> <span class="n">html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">),</span>
            <span class="s2">&quot;posts_metadata&quot;</span><span class="p">:</span> <span class="n">posts_metadata</span><span class="p">,</span>

            <span class="c1"># Keeps tracks the current post</span>
            <span class="s2">&quot;curr_posts_index&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>

            <span class="c1"># Total number of posts</span>
            <span class="s2">&quot;total_posts&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">POSTS</span><span class="p">),</span>

            <span class="c1"># Number of posts per page</span>
            <span class="s2">&quot;posts_per_page&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>

            <span class="c1"># Directory to hold the pages</span>
            <span class="s2">&quot;main_pages_path&quot;</span><span class="p">:</span> <span class="s2">&quot;output/pages/&quot;</span>
        <span class="p">}</span>

        <span class="n">pagination</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

<span class="c1"># Generate all posts</span>
<span class="k">def</span> <span class="nf">articles</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">post_template</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">POSTS</span><span class="p">:</span>
        <span class="n">post_metadata</span> <span class="o">=</span> <span class="n">POSTS</span><span class="p">[</span><span class="n">post</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span>
        <span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">POSTS</span><span class="p">[</span><span class="n">post</span><span class="p">],</span>
            <span class="s1">&#39;slug&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">],</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
            <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">],</span>
            <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">],</span>
            <span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="n">post_html_content</span> <span class="o">=</span> <span class="n">post_template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">post</span><span class="o">=</span><span class="n">post_data</span><span class="p">)</span>
        <span class="n">post_file_path</span> <span class="o">=</span> <span class="s1">&#39;output/posts/</span><span class="si">{slug}</span><span class="s1">/index.html&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">slug</span><span class="o">=</span><span class="n">post_metadata</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">])</span>
        <span class="n">create_directory</span><span class="p">(</span><span class="n">post_file_path</span><span class="p">)</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">post_file_path</span><span class="p">,</span> <span class="n">post_html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

<span class="c1"># Generate pages</span>
<span class="k">def</span> <span class="nf">pagination</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">Namespace</span><span class="p">(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>

    <span class="c1"># Number of pages (for pagination)</span>
    <span class="n">num_pages</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">total_posts</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">posts_per_page</span><span class="p">)</span>

    <span class="c1"># Create a page directory, if it doesn&#39;t exist</span>
    <span class="n">create_directory</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">main_pages_path</span><span class="p">)</span> 

    <span class="k">for</span> <span class="n">pagenum</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="c1"># This will contain metadata of every x number of posts per page</span>
        <span class="n">page_metadata</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">curr_page</span> <span class="o">=</span> <span class="n">pagenum</span><span class="o">+</span><span class="mi">1</span>

        <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;output/index.html&quot;</span> 
        <span class="k">else</span><span class="p">:</span>
            <span class="n">page_path</span> <span class="o">=</span> <span class="s2">&quot;output/pages/</span><span class="si">{page}</span><span class="s2">/index.html&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="n">curr_page</span><span class="p">)</span>

        <span class="n">create_directory</span><span class="p">(</span><span class="n">page_path</span><span class="p">)</span>

        <span class="c1"># Internal counter to keep track of posts per page</span>
        <span class="n">posts_counter</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">curr_posts_index</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">posts_metadata</span><span class="p">)):</span>
            <span class="n">page_metadata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">posts_metadata</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
            <span class="n">posts_counter</span> <span class="o">=</span> <span class="n">posts_counter</span><span class="o">+</span><span class="mi">1</span>

            <span class="c1"># If it reached it&#39;s limit, break</span>
            <span class="k">if</span> <span class="n">posts_counter</span> <span class="o">==</span> <span class="n">x</span><span class="o">.</span><span class="n">posts_per_page</span><span class="p">:</span>
                <span class="n">x</span><span class="o">.</span><span class="n">curr_posts_index</span> <span class="o">=</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span>
                <span class="k">break</span>

        <span class="c1"># Create links for previous and next pages</span>
        <span class="n">prev_page</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">curr_page</span><span class="o">-</span><span class="mi">1</span>
        <span class="n">next_page</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">curr_page</span> <span class="o">==</span> <span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span> <span class="k">else</span> <span class="n">curr_page</span><span class="o">+</span><span class="mi">1</span>

        <span class="c1"># Render the page</span>
        <span class="n">html_content</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
            <span class="n">posts</span><span class="o">=</span><span class="n">page_metadata</span><span class="p">,</span> 
            <span class="n">curr</span><span class="o">=</span><span class="n">curr_page</span><span class="p">,</span>
            <span class="n">prev</span><span class="o">=</span><span class="n">prev_page</span><span class="p">,</span> 
            <span class="nb">next</span><span class="o">=</span><span class="n">next_page</span><span class="p">,</span>
            <span class="n">total</span><span class="o">=</span><span class="n">num_pages</span><span class="o">+</span><span class="mi">1</span>
        <span class="p">)</span>
        <span class="n">write_to_file</span><span class="p">(</span><span class="n">page_path</span><span class="p">,</span> <span class="n">html_content</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

<span class="c1"># Generate blog -- Main function</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
    <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;articles&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">:</span>
        <span class="n">POSTS</span> <span class="o">=</span> <span class="n">get_markdown_files</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">section</span> <span class="o">==</span> <span class="s2">&quot;articles&quot;</span><span class="p">:</span>
            <span class="n">posts_template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;article.html&#39;</span><span class="p">)</span>
            <span class="n">index</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">articles</span><span class="p">(</span><span class="n">POSTS</span><span class="p">,</span> <span class="n">posts_template</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s2">&quot;This section doesn&#39;t exist.&quot;</span>
</code></pre></div>

<p><strong>Source code for</strong> <mark>ssglib.py</mark></p>

<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">ssglib</span>
<span class="kn">from</span> <span class="nn">ssglib</span> <span class="kn">import</span> <span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="n">random</span><span class="p">,</span> <span class="n">sys</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> 
<span class="n">Environment</span><span class="p">,</span> <span class="n">PackageLoader</span><span class="p">,</span> <span class="n">markdown</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">ssglib</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="s2">&quot;Enter section name you want to generate.&quot;</span>
</code></pre></div>

<p>To generate your blog, type the following in your command-line:</p>

<div class="codehilite"><pre><span></span><code>python ssg.py articles
</code></pre></div>

<p>Make sure you have a local HTTP server running on your computer, if you don't install this using NPM on your command-line:</p>

<div class="codehilite"><pre><span></span><code>npm i live-server
</code></pre></div>

<p>Alright, your blog is generated and now, it's time to launch it to the internet!</p>

<h3>Deploy project on Netlify</h3>

<p>As I had mentioned in the previous article, I'm currently hosting my blog on Netlify. If you want to know more about it, <a href="/posts/migrating-to-netlify">click here</a>.</p>

<p>Let's go through the steps to deploying your blog:</p>

<h4>1. Create a GitHub repository</h4>

<p>If you have a GitHub account, continue reading. If not, <a href="https://github.com">go here</a>.</p>

<p>Create a repository with any name you like and push all your files into the repository.</p>

<h4>2. Connect to Netlify</h4>

<p>Create an account on Netlify.com and then connect to your GitHub account. After that, you have to select the repository that has your static files (Not the python code).</p>

<h4>3. Sit and Relax</h4>

<p>At this stage, your blog will be deployed automatically and you'll be given a unique URL to view your website.</p>

<p>If you have a custom domain, I suggest you follow the instructions and make the necessary changes in the <mark>CNAME</mark> and <mark>A</mark> records.</p>

<p>Don't worry about the SSL certificate, it does take some time to activate, it took me like 7-8 hours to get it working.</p>

<h2>Conclusion</h2>

<p>If you've completed this tutorial, give a yourself a pat in the back because now you know how static site generators work and you've built and hosted your own blog on the internet.</p>

<p>Hope you liked reading this article and please share it to others too!</p>

<p>Stay tuned for more!</p>

	</div>
	<div class="article-footer">
		<time>October 27th, 2019</time>
		<ul class="tags">
			
			<li>
				<a href="/category/tutorial/">
					Tutorial
				</a>
			</li>
			
		</ul>
	</div>
</div>

			</div>
		</section>
		<section id="secondary">
			<div class="sidebar">
				<div class="author-intro">
	<h3>Hello, I'm Abdush Shakoor! &#x1F44B;</h3>
	<p>I'm a programmer & designer based in Dubai, United Arab Emirates. I love tinkering with code and writing about what I learn.</p>
	<p>Like this article? Please share it with your friends and colleagues or else, <a href="mailto:megacolorboy@gmail.com">send me</a> a private message about your feedback.</p>

	<ul class="sitemap">
		<li><a class="back" href="/"><span>👈</span> Check out more articles!</a></li>
	</ul>
</div>
			</div>
		</section>
	</div>
</main>

<footer>
    <span class="copyright">&copy; Abdush Shakoor</span>
</footer>

<script src="/static/vendor/jquery/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script src="/static/js/art.js"></script>

<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script defer id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98290003-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98290003-2');
</script>

<!-- <script>
    const darkModeButton = document.createElement('button');
    const syntaxHighlightSource = document.getElementById('syntaxHighlight');
    const menuList = document.querySelector('.menu');
    const themeSettings = {
        "dark": {
            "icon": '<i class="ph-moon-fill"></i>',
            "hljs": "/static/vendor/hljs/css/github-dark.css",
        },
        "light": {
            "icon": '<i class="ph-sun-fill"></i>',
            "hljs": "/static/vendor/hljs/css/github.min.css",
        },
    }

    function highlightMenuLink() {
        var currentURI = window.location.href;
        currentURI = currentURI.replace(window.location.protocol + "//", "");
        var currentPage	 = currentURI.split('/')[1];

        if(currentPage) {
            $('a[href="/' + currentPage + '"').parent().addClass('active');
        }
    }
    
    function initThemeSwitcher() {
        darkModeButton.innerHTML = themeSettings.light.icon;
        darkModeButton.classList.add('darkModeButton');
        
        darkModeButton.addEventListener('click', function(){
            switch(document.documentElement.getAttribute('data-theme')) {
                case 'dark':
                    lightMode();
                    break;

                case 'light':
                default:
                    darkMode();
                    break;
            }
        });
        
        var newItem = document.createElement('li');
        newItem.appendChild(darkModeButton);
        menuList.insertBefore(newItem, menuList.childNodes[menuList.childNodes - 1]);
    }
    

    // Settings for dark mode
    function darkMode() {
        darkModeButton.innerHTML = themeSettings.dark.icon;
        document.documentElement.setAttribute('data-theme', 'dark');
        syntaxHighlightSource.setAttribute('href', themeSettings.dark.hljs);
        localStorage.setItem("theme", "dark");
    }

    // Settings for light mode
    function lightMode() {
        darkModeButton.innerHTML = themeSettings.light.icon;
        document.documentElement.setAttribute('data-theme', '');
        syntaxHighlightSource.setAttribute('href', themeSettings.light.hljs);
        localStorage.setItem("theme", "");
    }

    function checkTheme() {
        const localStorageTheme = localStorage.getItem("theme");
        switch(localStorageTheme) {
            case "dark":
                darkMode();
                break;
            
            default:
                lightMode();
                break;
        }
    }

    // Check if the theme is stored in session
    window.onload = function() {
        initThemeSwitcher();
        checkTheme();
        highlightMenuLink();
    }

    //  open and close nav 
    $('#navbar-toggle').click(function() {
      $('nav ul').slideToggle();
    });

    // Hamburger toggle
    $('#navbar-toggle').on('click', function() {
      this.classList.toggle('active');
    });

    // Click outside the dropdown will remove the dropdown class
    $('html').click(function() {
      $('.navbar-dropdown').hide();
    });
</script> -->
</body>
</html>