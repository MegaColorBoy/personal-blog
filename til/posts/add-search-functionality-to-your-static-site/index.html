<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Add search functionality to your static site | megacolorboy</title>
	<link rel="stylesheet" href="/static/css/main.css" type="text/css">
	<link rel="stylesheet" href="/static/vendor/hljs/css/default.min.css">
	<!-- Add OG tags  -->
</head>
<body class="details-page til">
	<!-- Navbar -->
	<header class="header">
	<div class="author">
		<a href="/">
			<div class="logo"></div>
			<p>megacolorboy</p>
		</a>
	</div>
	<nav>
		<ul class="menu">
			
				<li><a href="/about">About</a></li>
			
				<li><a href="/writings">Writings</a></li>
			
				<li><a href="/til">Today I Learned</a></li>
			
		</ul>
	</nav>
</header>

<div class="article-top">
	<a class="back" href="/til"><span>&larr;</span> Back</a>
	<p class="date">Published on June 6th, 2020</p>	
</div>

<main>
	<section class="article-head">
		<p class="cat">JavaScript</p>
		<h1>Add search functionality to your static site</h1>
		
			<p>If you have a static site or a blog generated using a static-site generator but want to add a simple search functionality? This could be of your interest.I'll take you through an example on how to build a simple search engine using a JSON file and AJAX requests.1. Generate a JSON dump of your siteAlthough, it's not a database but it can act as an alternative to having one. Your JSON dump can contain any metadata that you wanted your users to search in your site. In my case, I thought of allowing the user to search  and . Is your site generated using Python and want to create a JSON dump? Read this article for more information.2. Build search functionalityI won't go through the aspects of UI design in this article as I feel that it's subjective and depends on one's preferences but let's keep it simple enough for this tutorial.Before you begin writing the function, place this component in your HTML template:Anyway, here's the function and you can place it directly on your template or in a separate  file:That's it! Now, when you execute your script, you should be able to view your search results just like as if it were using a database.If you want to make it similar to mine, please feel free to inspect the code on the browser or go to my repository to see how it works.</p>
		
		<p class="date">1 minute read</p>
	</section>
	<article>
		<p>If you have a static site or a blog generated using a static-site generator but want to add a simple search functionality? This could be of your interest.</p>

<p>I'll take you through an example on how to build a simple search engine using a JSON file and AJAX requests.</p>

<h2>1. Generate a JSON dump of your site</h2>

<p>Although, it's not a database but it can act as an alternative to having one. Your JSON dump can contain any metadata that you wanted your users to search in your site. In my case, I thought of allowing the user to search <code>title</code> and <code>category</code>. </p>

<p>Is your site generated using Python and want to create a JSON dump? <a href="til/posts/read-and-write-json-to-a-file-in-python">Read this article</a> for more information.</p>

<h2>2. Build search functionality</h2>

<p>I won't go through the aspects of UI design in this article as I feel that it's subjective and depends on one's preferences but let's keep it simple enough for this tutorial.</p>

<p>Before you begin writing the function, place this component in your HTML template:</p>

<pre>
<code class="html">
&lt;div class="searchbox"&gt;
    &lt;input id="searchinput" type="text"&gt;
    &lt;div id="searchresults"&gt;
        &lt;ul&gt;&lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code>
</pre>

<p>Anyway, here's the function and you can place it directly on your template or in a separate <code>.js</code> file:</p>

<pre>
<code class="js">
var _url = "path-of-your-file.json";

$(document).ready(function(){
    $('#searchinput').keyup(function(e){
        var keyword = $(this).val();
        var code = e.keyCode ? e.keyCode : e.which;

        if(code == 13){
            $.ajax({
                url: _url,
                type: "GET",
                async: false,
            }).done(function(data){
                var results = "";
                if(data.articles.length > 0){
                    $.each(data.articles, function(key, value){
                        if(v.title.search(pattern) != -1 || v.category.search(pattern) != -1){
                            results += `&lt;li&gt;&lt;a href="${v.slug}"&gt;${v.title}&lt;/a&gt;&lt;/li&gt;`;
                        }
                    });
                    $("#searchresults ul").html(results);
                }
            });
        }
    });
});
</code>
</pre>

<p>That's it! Now, when you execute your script, you should be able to view your search results just like as if it were using a database.</p>

<p>If you want to make it similar to mine, please feel free to inspect the code on the browser or go to my <a href="https://github.com/megacolorboy/personal-blog/blob/master/static/js/search.js">repository</a> to see how it works.</p>

	</article>
</main>

<script src="/static/vendor/jquery/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="/static/vendor/hljs/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>