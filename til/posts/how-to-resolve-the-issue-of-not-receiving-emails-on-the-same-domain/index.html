<!DOCTYPE html>
<html data-theme="" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Abdush Shakoor">
	<title>How to resolve the issue of not receiving emails on the same domain? | megacolorboy</title>

	
	<meta name="description" content="Recently, we hosted our company's redesigned website on GoDaddy, which offers cPanel to manage your website. I was dealing with an annoying email bug in which I was able to send/receive emails to any account except the ones that share the company domain.The company's current email setup makes use of Google Workspace and since we're using a Shared Hosting account, GoDaddy allows you to use their SMTP relay and prohibits the use of third-party SMTP services such as Google Workspace, Outlook, etc.After configuring it with Google's MX records in the DNS settings, I wasn't receiving any email on my own company email yet I was able to receive on other email accounts that didn't share the company's domain.I did a little R&D and ran into this documentation about email routing and figured out that there could be an issue with it's configuration.Here's what I did:Open cPanel Search or look for Email RoutingClick on Email RoutingIf your MX records are not pointing to the IP address of the hosting server, then select Remote Mail ExchangerSave changesAfter following these steps, I was able to receive mails on the same domain!So what really caused the issue?Since, we didn't have a default email address set up in cPanel, the current mode to send all unrouted emails was set to , by default. I guess, it's set up that way to prevent the server from sending/receiving spam mails from the domain.This makes sense because:The MX records are not pointing to the current serverThere are no email accounts created for the domain on cPanelBy setting the mode to , all emails with the same domain are being discarded or rejectedNot really sure if this is what caused the issue but judging from the facts, I was able to reach to this conclusion.Hope you found this tip useful.ReferenceCan't send email to addresses at my own domain.">
	<meta name="og:title" content="How to resolve the issue of not receiving emails on the same domain? | megacolorboy" />
	<meta name="og:type" content="article" />
	<meta name="og:url" content="https://www.megacolorboy.com/posts/how-to-resolve-the-issue-of-not-receiving-emails-on-the-same-domain/" />
	<meta name="og:description" content="Recently, we hosted our company's redesigned website on GoDaddy, which offers cPanel to manage your website. I was dealing with an annoying email bug in which I was able to send/receive emails to any account except the ones that share the company domain.The company's current email setup makes use of Google Workspace and since we're using a Shared Hosting account, GoDaddy allows you to use their SMTP relay and prohibits the use of third-party SMTP services such as Google Workspace, Outlook, etc.After configuring it with Google's MX records in the DNS settings, I wasn't receiving any email on my own company email yet I was able to receive on other email accounts that didn't share the company's domain.I did a little R&D and ran into this documentation about email routing and figured out that there could be an issue with it's configuration.Here's what I did:Open cPanel Search or look for Email RoutingClick on Email RoutingIf your MX records are not pointing to the IP address of the hosting server, then select Remote Mail ExchangerSave changesAfter following these steps, I was able to receive mails on the same domain!So what really caused the issue?Since, we didn't have a default email address set up in cPanel, the current mode to send all unrouted emails was set to , by default. I guess, it's set up that way to prevent the server from sending/receiving spam mails from the domain.This makes sense because:The MX records are not pointing to the current serverThere are no email accounts created for the domain on cPanelBy setting the mode to , all emails with the same domain are being discarded or rejectedNot really sure if this is what caused the issue but judging from the facts, I was able to reach to this conclusion.Hope you found this tip useful.ReferenceCan't send email to addresses at my own domain" />
	<meta name="og:site_name" content="Abdush Shakoor's Blog | megacolorboy" />
	
	
	<link rel="stylesheet" href="/static/css/main.css" type="text/css">
	<link id="syntaxHighlight" rel="stylesheet" href="/static/vendor/hljs/css/github.min.css">
	<link href="/static/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
	
	<script src="https://unpkg.com/phosphor-icons"></script>
	<!-- Add OG tags  -->

	<script>
		if(localStorage.theme){
			document.documentElement.setAttribute('data-theme', localStorage.getItem("theme"));
		}
	</script>

</head>
<body class="details-page til">
	<!-- Navbar -->
	<header class="header">
	<div class="author">
		<a href="/">
			<div class="logo"></div>
			<p>megacolorboy</p>
		</a>
	</div>
	<nav>
		<ul class="menu">
			
				<li><a href="/about">About</a></li>
			
				<li><a href="/writings">Writings</a></li>
			
				<li><a href="/til">Today I Learned</a></li>
			
				<li><a href="/resume">Resume</a></li>
			
		</ul>
	</nav>
</header>

<div class="article-top">
	<a class="back" href="/til"><span>&larr;</span> Back</a>
	<p class="date">Published on March 12th, 2021</p>	
</div>

<main>
	<section class="article-head">
		<p class="cat">cPanel + Email</p>
		<h1>How to resolve the issue of not receiving emails on the same domain?</h1>
		
			<p class="desc">Recently, we hosted our company's redesigned website on GoDaddy, which offers cPanel to manage your website. I was dealing with an annoying email bug in which I was able to send/receive emails to any account except the ones that share the company domain.The company's current email setup makes use of Google Workspace and since we're using a Shared Hosting account, GoDaddy allows you to use their SMTP relay and prohibits the use of third-party SMTP services such as Google Workspace, Outlook, etc.After configuring it with Google's MX records in the DNS settings, I wasn't receiving any email on my own company email yet I was able to receive on other email accounts that didn't share the company's domain.I did a little R&D and ran into this documentation about email routing and figured out that there could be an issue with it's configuration.Here's what I did:Open cPanel Search or look for Email RoutingClick on Email RoutingIf your MX records are not pointing to the IP address of the hosting server, then select Remote Mail ExchangerSave changesAfter following these steps, I was able to receive mails on the same domain!So what really caused the issue?Since, we didn't have a default email address set up in cPanel, the current mode to send all unrouted emails was set to , by default. I guess, it's set up that way to prevent the server from sending/receiving spam mails from the domain.This makes sense because:The MX records are not pointing to the current serverThere are no email accounts created for the domain on cPanelBy setting the mode to , all emails with the same domain are being discarded or rejectedNot really sure if this is what caused the issue but judging from the facts, I was able to reach to this conclusion.Hope you found this tip useful.ReferenceCan't send email to addresses at my own domain</p>
		
		<p class="date">2 minutes read</p>
	</section>
	<article>
		<p>Recently, we hosted our company's redesigned website on GoDaddy, which offers cPanel to manage your website. I was dealing with an annoying email bug in which I was able to send/receive emails to any account except the ones that share the company domain.</p>

<p>The company's current email setup makes use of Google Workspace and since we're using a Shared Hosting account, GoDaddy allows you to use their SMTP relay and prohibits the use of third-party SMTP services such as Google Workspace, Outlook, etc.</p>

<p>After configuring it with Google's MX records in the DNS settings, I wasn't receiving any email on my own company email yet I was able to receive on other email accounts that didn't share the company's domain.</p>

<p>I did a little R&amp;D and ran into this documentation about <a href="https://docs.cpanel.net/cpanel/email/email-routing/">email routing</a> and figured out that there could be an issue with it's configuration.</p>

<p>Here's what I did:</p>

<ol>
<li>Open cPanel </li>
<li>Search or look for <strong>Email Routing</strong></li>
<li>Click on <strong>Email Routing</strong></li>
<li>If your MX records are not pointing to the IP address of the hosting server, then select <strong>Remote Mail Exchanger</strong></li>
<li>Save changes</li>
</ol>

<p>After following these steps, I was able to receive mails on the same domain!</p>

<h2>So what really caused the issue?</h2>

<p>Since, we didn't have a default email address set up in cPanel, the current mode to send all unrouted emails was set to <code>:blackhole:</code>, by default. I guess, it's set up that way to prevent the server from sending/receiving spam mails from the domain.</p>

<p>This makes sense because:</p>

<ol>
<li>The MX records are not pointing to the current server</li>
<li>There are no email accounts created for the domain on cPanel</li>
<li>By setting the mode to <code>:blackhole</code>, all emails with the same domain are being discarded or rejected</li>
</ol>

<p>Not really sure if this is what caused the issue but judging from the facts, I was able to reach to this conclusion.</p>

<p>Hope you found this tip useful.</p>

<h2>Reference</h2>

<ul>
<li><a href="https://stackoverflow.com/questions/1107730/cant-send-email-to-addresses-at-my-own-domain">Can't send email to addresses at my own domain</a></li>
</ul>

	</article>
</main>

<script src="/static/vendor/jquery/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="/static/vendor/hljs/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98290003-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98290003-2');
</script>

<script>
    const darkModeButton = document.createElement('button');
    const syntaxHighlightSource = document.getElementById('syntaxHighlight');
    const menuList = document.querySelector('.menu');
    const themeSettings = {
        "dark": {
            "icon": '<i class="ph-moon-fill"></i>',
            "hljs": "/static/vendor/hljs/css/github-dark.css",
        },
        "light": {
            "icon": '<i class="ph-sun-fill"></i>',
            "hljs": "/static/vendor/hljs/css/github.min.css",
        },
    }

    function highlightMenuLink() {
        var currentURI = window.location.href;
        currentURI = currentURI.replace(window.location.protocol + "//", "");
        var currentPage	 = currentURI.split('/')[1];

        if(currentPage) {
            $('a[href="/' + currentPage + '"').parent().addClass('active');
        }
    }
    
    function initThemeSwitcher() {
        darkModeButton.innerHTML = themeSettings.light.icon;
        darkModeButton.classList.add('darkModeButton');
        
        darkModeButton.addEventListener('click', function(){
            switch(document.documentElement.getAttribute('data-theme')) {
                case 'dark':
                    lightMode();
                    break;

                case 'light':
                default:
                    darkMode();
                    break;
            }
        });
        
        var newItem = document.createElement('li');
        newItem.appendChild(darkModeButton);
        menuList.insertBefore(newItem, menuList.childNodes[menuList.childNodes - 1]);
    }
    

    // Settings for dark mode
    function darkMode() {
        darkModeButton.innerHTML = themeSettings.dark.icon;
        document.documentElement.setAttribute('data-theme', 'dark');
        syntaxHighlightSource.setAttribute('href', themeSettings.dark.hljs);
        localStorage.setItem("theme", "dark");
    }

    // Settings for light mode
    function lightMode() {
        darkModeButton.innerHTML = themeSettings.light.icon;
        document.documentElement.setAttribute('data-theme', '');
        syntaxHighlightSource.setAttribute('href', themeSettings.light.hljs);
        localStorage.setItem("theme", "");
    }

    function checkTheme() {
        const localStorageTheme = localStorage.getItem("theme");
        switch(localStorageTheme) {
            case "dark":
                darkMode();
                break;
            
            default:
                lightMode();
                break;
        }
    }

    // Check if the theme is stored in session
    window.onload = function() {
        initThemeSwitcher();
        checkTheme();
        highlightMenuLink();
    }
</script>
</body>
</html>