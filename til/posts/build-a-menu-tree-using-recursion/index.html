<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Build a menu tree using recursion | megacolorboy</title>
	<link rel="stylesheet" href="/static/css/main.css" type="text/css">
	<link rel="stylesheet" href="/static/vendor/hljs/css/default.min.css">
	<!-- Add OG tags  -->
</head>
<body class="details-page til">
	<!-- Navbar -->
	<header class="header">
	<div class="author">
		<a href="/">
			<div class="logo"></div>
			<p>megacolorboy</p>
		</a>
	</div>
	<nav>
		<ul class="menu">
			
				<li><a href="/about">About</a></li>
			
				<li><a href="/writings">Writings</a></li>
			
				<li><a href="/til">Today I Learned</a></li>
			
		</ul>
	</nav>
</header>

<div class="article-top">
	<a class="back" href="/til"><span>&larr;</span> Back</a>
	<p class="date">Published on June 3rd, 2020</p>	
</div>

<main>
	<section class="article-head">
		<p class="cat">Algorithms</p>
		<h1>Build a menu tree using recursion</h1>
		
			<p>Hmm, what is the most efficient way to build a menu tree? ðŸ˜…Most people would go for a brute force solution if it's a straightforward menu but would that be possible if we intend to create multiple levels of menu items?Sure, you could but as the number of loops increases, the complexity of time increases too. Not to forget, you'll end up writing code that'll look messy and unscalable.I always loved the idea and simplicity of using recursion. So, I thought of exercising my recursion skills by writing a method that can generate a dynamic menu with x number of parent and child menu items.The following example is written in PHP:Once you run it, you'll see something like this:There a lot of ways to achieve this same result using recursion but it sure is easier to read, scalable and extensible, ain't it?</p>
		
		<p class="date">1 minute read</p>
	</section>
	<article>
		<p>Hmm, what is the most efficient way to build a menu tree? &#x1F605;</p>

<p>Most people would go for a brute force solution if it's a straightforward menu but would that be possible if we intend to create multiple levels of menu items?</p>

<p>Sure, you could but as the number of loops increases, the complexity of time increases too. Not to forget, you'll end up writing code that'll look messy and unscalable.</p>

<p>I always loved the idea and simplicity of using recursion. So, I thought of exercising my recursion skills by writing a method that can generate a dynamic menu with <strong>x</strong> number of parent and child menu items.</p>

<p>The following example is written in PHP:</p>

<pre>
<code class="php">

class FooController extends Controller {
    protected $menuHTML = "";

    private function menuItems() {
        return [
            [
                'title' => 'Item 1',
                'link' => '/item-1'
            ],
            [
                'title' => 'Item 2',
                'link' => '/item-2',
                'child_items' => [
                    [
                       'title' => 'Item 2.1',
                       'link' => '/item-2.1'
                    ],       
                    [
                        'title' => 'Item 2.2',
                        'link' => '/item-2.2'
                    ],       
                ]
            ],
            [
                'title' => 'Item 3',
                'link' => '/item-3'
            ],
            [
                'title' => 'Item 4',
                'link' => '/item-4'
            ],
        ];
    }

    // Build a menu tree
    private function buildMenu($menu) {
        foreach($menu as $menuItem){
            $this->menuHTML .= '&lt;li class="item"&gt;';
            $this->menuHTML .= '&lt;a href="'.$menuItem['link'].'"&gt;'.$menuItem['title'].'&lt;/a&gt;';

            // Check if it has any child items
            if(array_key_exists("child_items", $menuItem){
                $this->menuHTML .= '&lt;ul class="submenu"&gt;';
                $this->buildMenu($menuItem['child_items']);
                $this->menuHTML .= '&lt;/ul&gt;';
            }

            $this->menuHTML .= '&lt;/li&gt;'
        }
    }

    // Return the complete menu
    private function getMenu($menu) {
        $this->buildMenu($menu);
        return '&lt;ul class="mainmenu"&gt;'.$this->menuHTML.'&lt;/ul&gt;';
    }

    public function __construct() {
        pre($this->getMenu($this->menuItems());
        die;
    }
}

</code>
</pre>

<p>Once you run it, you'll see something like this:</p>

<pre>
<code class="html">
&lt;ul class="mainmenu"&gt;
    &lt;li class="item"&gt;&lt;a href="/item-1"&gt;Item 1&lt;/a&gt;&lt;/li&gt;
    &lt;li class="item"&gt;&lt;a href="/item-2"&gt;Item 2&lt;/a&gt;
        &lt;ul class="submenu"&gt;
            &lt;li class="item"&gt;&lt;a href="/item-2.1"&gt;Item 2.1&lt;/a&gt;&lt;/li&gt;
            &lt;li class="item"&gt;&lt;a href="/item-2.2"&gt;Item 2.2&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li class="item"&gt;&lt;a href="/item-3"&gt;Item 3&lt;/a&gt;&lt;/li&gt;
    &lt;li class="item"&gt;&lt;a href="/item-4"&gt;Item 4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</code>
</pre>

<p>There a lot of ways to achieve this same result using recursion but it sure is easier to read, scalable and extensible, ain't it?</p>

	</article>
</main>

<script src="/static/vendor/jquery/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="/static/vendor/hljs/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>